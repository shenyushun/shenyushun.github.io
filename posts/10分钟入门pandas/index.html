<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>10分钟入门Pandas - Hi~Roy!</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="10分钟入门Pandas" />
<meta property="og:description" content="原文地址，是官网的《10 Minutes to pandas》翻译，代码中添加了个人的一些注释。
通常来说，我们像下面这样来引入包:
In [1]: import pandas as pd

In [2]: import numpy as np

In [3]: import matplotlib.pyplot as plt
" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/10%E5%88%86%E9%92%9F%E5%85%A5%E9%97%A8pandas/" />
<meta property="article:published_time" content="2017-10-30T11:38:23+00:00" />
<meta property="article:modified_time" content="2017-10-30T11:38:23+00:00" />

		<meta itemprop="name" content="10分钟入门Pandas">
<meta itemprop="description" content="原文地址，是官网的《10 Minutes to pandas》翻译，代码中添加了个人的一些注释。
通常来说，我们像下面这样来引入包:
In [1]: import pandas as pd

In [2]: import numpy as np

In [3]: import matplotlib.pyplot as plt
">
<meta itemprop="datePublished" content="2017-10-30T11:38:23&#43;00:00" />
<meta itemprop="dateModified" content="2017-10-30T11:38:23&#43;00:00" />
<meta itemprop="wordCount" content="3161">



<meta itemprop="keywords" content="python," />
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/roy.css">

	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-81207387-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo logo--mixed">
		<a class="logo__link" href="/" title="Roy&#39;s Blog" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="/images/logo.png">
				</div><div class="logo__item logo__text">
					<div class="logo__title">Roy&#39;s Blog</div>
					<div class="logo__tagline">From the moment I first saw you, All the darkness turned to light.</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				
				<span class="menu__text">Home</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">10分钟入门Pandas</h1>
			<div class="post__meta meta"><div class="meta__item-author meta__item">
	<svg class="meta__icon icon icon-author" width="16" height="16" viewBox="0 0 12 16"><path d="M6 1c2.2 0 3.5 2 3.5 4.5C9.5 7 8.9 8.2 8 9c2.9.8 4 2.5 4 5v1H0v-1c0-2.5 1.1-4.2 4-5-.9-.8-1.5-2-1.5-3.5C2.5 3 3.8 1 6 1z"/></svg><span class="meta__text">Roy</span>
</div>
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2017-10-30T11:38:23Z">2017-10-30</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/%E8%8F%9C%E9%B8%9F%E7%BF%BB%E8%AF%91%E5%B1%8B/" rel="category">菜鸟翻译屋</a>, <a class="meta__link" href="/categories/%E7%BC%96%E7%A8%8B%E6%8A%80%E6%9C%AF/" rel="category">编程技术</a>
	</span>
</div></div>
		</header><div class="content post__content clearfix">
			<p><a href="http://pandas.pydata.org/pandas-docs/stable/10min.html">原文地址</a>，是官网的《10 Minutes to pandas》翻译，代码中添加了个人的一些注释。</p>
<p>通常来说，我们像下面这样来引入包:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">1</span>]: <span style="color:#f92672">import</span> pandas <span style="color:#f92672">as</span> pd

In [<span style="color:#ae81ff">2</span>]: <span style="color:#f92672">import</span> numpy <span style="color:#f92672">as</span> np

In [<span style="color:#ae81ff">3</span>]: <span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#f92672">as</span> plt
</code></pre></div><h2 id="创建对象">创建对象</h2>
<p>通过列表来创建<code>Series</code>对象，pandas默认创建整型索引：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">4</span>]: s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">5</span>,np<span style="color:#f92672">.</span>nan,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">8</span>])

In [<span style="color:#ae81ff">5</span>]: s
Out[<span style="color:#ae81ff">5</span>]:
<span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">1.0</span>
<span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">3.0</span>
<span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">5.0</span>
<span style="color:#ae81ff">3</span>    NaN
<span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">6.0</span>
<span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">8.0</span>
dtype: float64
</code></pre></div><p>通过numpy数组来创建<code>DataFrame</code>，并使用时间作为索引和有标签的列名：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">6</span>]: dates <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>date_range(<span style="color:#e6db74">&#39;20130101&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">6</span>)  <span style="color:#75715e"># periods定义行数</span>

In [<span style="color:#ae81ff">7</span>]: dates
Out[<span style="color:#ae81ff">7</span>]:
DatetimeIndex([<span style="color:#e6db74">&#39;2013-01-01&#39;</span>, <span style="color:#e6db74">&#39;2013-01-02&#39;</span>, <span style="color:#e6db74">&#39;2013-01-03&#39;</span>, <span style="color:#e6db74">&#39;2013-01-04&#39;</span>,
               <span style="color:#e6db74">&#39;2013-01-05&#39;</span>, <span style="color:#e6db74">&#39;2013-01-06&#39;</span>],
              dtype<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;datetime64[ns]&#39;</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;D&#39;</span>)


<span style="color:#75715e"># np.random.rand()函数第一个参数是行，第二个参数是列</span>
<span style="color:#75715e"># 使用index参数制定行索引</span>
<span style="color:#75715e"># columns制定列名</span>
In [<span style="color:#ae81ff">8</span>]: df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">4</span>), index<span style="color:#f92672">=</span>dates, columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;ABCD&#39;</span>))

In [<span style="color:#ae81ff">9</span>]: df
Out[<span style="color:#ae81ff">9</span>]:
                   A         B         C         D
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  <span style="color:#ae81ff">0.469112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.282863</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.135632</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>  <span style="color:#ae81ff">0.119209</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.044236</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span>  <span style="color:#ae81ff">1.071804</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.721555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span>  <span style="color:#ae81ff">0.271860</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.424972</span>  <span style="color:#ae81ff">0.567020</span>  <span style="color:#ae81ff">0.276232</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.087401</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.673690</span>  <span style="color:#ae81ff">0.113648</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.478427</span>  <span style="color:#ae81ff">0.524988</span>
</code></pre></div><p>也可以使用字典来创建<code>DataFrame</code>，就像创建<code>Series</code>那样：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#75715e"># pd.Timestamp创建日期类型数据</span>
<span style="color:#75715e"># pd.Categorical创建类别 这种数据类型</span>
<span style="color:#75715e"># 使用dtype参数指定数据类型，注意A列和C列的区别</span>

In [<span style="color:#ae81ff">10</span>]: df2 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({ <span style="color:#e6db74">&#39;A&#39;</span> : <span style="color:#ae81ff">1.</span>,
   <span style="color:#f92672">....</span>:                      <span style="color:#e6db74">&#39;B&#39;</span> : pd<span style="color:#f92672">.</span>Timestamp(<span style="color:#e6db74">&#39;20130102&#39;</span>),
   <span style="color:#f92672">....</span>:                      <span style="color:#e6db74">&#39;C&#39;</span> : pd<span style="color:#f92672">.</span>Series(<span style="color:#ae81ff">1</span>,index<span style="color:#f92672">=</span>list(range(<span style="color:#ae81ff">4</span>)),dtype<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;float32&#39;</span>),
   <span style="color:#f92672">....</span>:                      <span style="color:#e6db74">&#39;D&#39;</span> : np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">3</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">4</span>,dtype<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;int32&#39;</span>),
   <span style="color:#f92672">....</span>:                      <span style="color:#e6db74">&#39;E&#39;</span> : pd<span style="color:#f92672">.</span>Categorical([<span style="color:#e6db74">&#34;test&#34;</span>,<span style="color:#e6db74">&#34;train&#34;</span>,<span style="color:#e6db74">&#34;test&#34;</span>,<span style="color:#e6db74">&#34;train&#34;</span>]),
   <span style="color:#f92672">....</span>:                      <span style="color:#e6db74">&#39;F&#39;</span> : <span style="color:#e6db74">&#39;foo&#39;</span> })
   <span style="color:#f92672">....</span>:

In [<span style="color:#ae81ff">11</span>]: df2
Out[<span style="color:#ae81ff">11</span>]:
     A          B    C  D      E    F
<span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">1.0</span> <span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">3</span>   test  foo
<span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1.0</span> <span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">3</span>  train  foo
<span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">1.0</span> <span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">3</span>   test  foo
<span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">1.0</span> <span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">3</span>  train  foo
</code></pre></div><p>使用<code>dtypes</code>属性来查看列的类型：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">
<span style="color:#75715e"># 字符串的type是object</span>

In [<span style="color:#ae81ff">12</span>]: df2<span style="color:#f92672">.</span>dtypes
Out[<span style="color:#ae81ff">12</span>]:
A           float64
B    datetime64[ns]
C           float32
D             int32
E          category
F            object
dtype: object
</code></pre></div><p>如果你使用Ipython，Tab键可以自动补全列名和公有属性，下面是一些示例：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">13</span>]: df2<span style="color:#f92672">.&lt;</span>TAB<span style="color:#f92672">&gt;</span>
df2<span style="color:#f92672">.</span>A                  df2<span style="color:#f92672">.</span>bool
df2<span style="color:#f92672">.</span>abs                df2<span style="color:#f92672">.</span>boxplot
df2<span style="color:#f92672">.</span>add                df2<span style="color:#f92672">.</span>C
df2<span style="color:#f92672">.</span>add_prefix         df2<span style="color:#f92672">.</span>clip
df2<span style="color:#f92672">.</span>add_suffix         df2<span style="color:#f92672">.</span>clip_lower
df2<span style="color:#f92672">.</span>align              df2<span style="color:#f92672">.</span>clip_upper
df2<span style="color:#f92672">.</span>all                df2<span style="color:#f92672">.</span>columns
df2<span style="color:#f92672">.</span>any                df2<span style="color:#f92672">.</span>combine
df2<span style="color:#f92672">.</span>append             df2<span style="color:#f92672">.</span>combine_first
df2<span style="color:#f92672">.</span>apply              df2<span style="color:#f92672">.</span>compound
df2<span style="color:#f92672">.</span>applymap           df2<span style="color:#f92672">.</span>consolidate
df2<span style="color:#f92672">.</span>D
</code></pre></div><p>正如上图所示，列A,B,C,D都自动显示出来了，E也是（不过没显示出来），其余属性被截断了。</p>
<h2 id="查看数据">查看数据</h2>
<p>查看前几条或者后几条数据：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">14</span>]: df<span style="color:#f92672">.</span>head()
Out[<span style="color:#ae81ff">14</span>]:
                   A         B         C         D
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  <span style="color:#ae81ff">0.469112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.282863</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.135632</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>  <span style="color:#ae81ff">0.119209</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.044236</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span>  <span style="color:#ae81ff">1.071804</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.721555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span>  <span style="color:#ae81ff">0.271860</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.424972</span>  <span style="color:#ae81ff">0.567020</span>  <span style="color:#ae81ff">0.276232</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.087401</span>

In [<span style="color:#ae81ff">15</span>]: df<span style="color:#f92672">.</span>tail(<span style="color:#ae81ff">3</span>)
Out[<span style="color:#ae81ff">15</span>]:
                   A         B         C         D
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.721555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span>  <span style="color:#ae81ff">0.271860</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.424972</span>  <span style="color:#ae81ff">0.567020</span>  <span style="color:#ae81ff">0.276232</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.087401</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.673690</span>  <span style="color:#ae81ff">0.113648</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.478427</span>  <span style="color:#ae81ff">0.524988</span>
</code></pre></div><p>查看索引、列名、值：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">16</span>]: df<span style="color:#f92672">.</span>index
Out[<span style="color:#ae81ff">16</span>]:
DatetimeIndex([<span style="color:#e6db74">&#39;2013-01-01&#39;</span>, <span style="color:#e6db74">&#39;2013-01-02&#39;</span>, <span style="color:#e6db74">&#39;2013-01-03&#39;</span>, <span style="color:#e6db74">&#39;2013-01-04&#39;</span>,
               <span style="color:#e6db74">&#39;2013-01-05&#39;</span>, <span style="color:#e6db74">&#39;2013-01-06&#39;</span>],
              dtype<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;datetime64[ns]&#39;</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;D&#39;</span>)

In [<span style="color:#ae81ff">17</span>]: df<span style="color:#f92672">.</span>columns
Out[<span style="color:#ae81ff">17</span>]: Index([<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>, <span style="color:#e6db74">&#39;C&#39;</span>, <span style="color:#e6db74">&#39;D&#39;</span>], dtype<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;object&#39;</span>)

In [<span style="color:#ae81ff">18</span>]: df<span style="color:#f92672">.</span>values
Out[<span style="color:#ae81ff">18</span>]:
array([[ <span style="color:#ae81ff">0.4691</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">0.2829</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1.5091</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1.1356</span>],
       [ <span style="color:#ae81ff">1.2121</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">0.1732</span>,  <span style="color:#ae81ff">0.1192</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1.0442</span>],
       [<span style="color:#f92672">-</span><span style="color:#ae81ff">0.8618</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2.1046</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">0.4949</span>,  <span style="color:#ae81ff">1.0718</span>],
       [ <span style="color:#ae81ff">0.7216</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">0.7068</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1.0396</span>,  <span style="color:#ae81ff">0.2719</span>],
       [<span style="color:#f92672">-</span><span style="color:#ae81ff">0.425</span> ,  <span style="color:#ae81ff">0.567</span> ,  <span style="color:#ae81ff">0.2762</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1.0874</span>],
       [<span style="color:#f92672">-</span><span style="color:#ae81ff">0.6737</span>,  <span style="color:#ae81ff">0.1136</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1.4784</span>,  <span style="color:#ae81ff">0.525</span> ]])
</code></pre></div><p>查看统计信息：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">19</span>]: df<span style="color:#f92672">.</span>describe()
Out[<span style="color:#ae81ff">19</span>]:
              A         B         C         D
count  <span style="color:#ae81ff">6.000000</span>  <span style="color:#ae81ff">6.000000</span>  <span style="color:#ae81ff">6.000000</span>  <span style="color:#ae81ff">6.000000</span>
mean   <span style="color:#ae81ff">0.073711</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.431125</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.687758</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.233103</span>
std    <span style="color:#ae81ff">0.843157</span>  <span style="color:#ae81ff">0.922818</span>  <span style="color:#ae81ff">0.779887</span>  <span style="color:#ae81ff">0.973118</span>
min   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.135632</span>
<span style="color:#ae81ff">25</span><span style="color:#f92672">%</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.611510</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.600794</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.368714</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.076610</span>
<span style="color:#ae81ff">50</span><span style="color:#f92672">%</span>    <span style="color:#ae81ff">0.022070</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.228039</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.767252</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.386188</span>
<span style="color:#ae81ff">75</span><span style="color:#f92672">%</span>    <span style="color:#ae81ff">0.658444</span>  <span style="color:#ae81ff">0.041933</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.034326</span>  <span style="color:#ae81ff">0.461706</span>
max    <span style="color:#ae81ff">1.212112</span>  <span style="color:#ae81ff">0.567020</span>  <span style="color:#ae81ff">0.276232</span>  <span style="color:#ae81ff">1.071804</span>
</code></pre></div><p>转置数据：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">20</span>]: df<span style="color:#f92672">.</span>T
Out[<span style="color:#ae81ff">20</span>]:
   <span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  <span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>  <span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>  <span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>
A    <span style="color:#ae81ff">0.469112</span>    <span style="color:#ae81ff">1.212112</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span>    <span style="color:#ae81ff">0.721555</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.424972</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.673690</span>
B   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.282863</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span>    <span style="color:#ae81ff">0.567020</span>    <span style="color:#ae81ff">0.113648</span>
C   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span>    <span style="color:#ae81ff">0.119209</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span>    <span style="color:#ae81ff">0.276232</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.478427</span>
D   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.135632</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.044236</span>    <span style="color:#ae81ff">1.071804</span>    <span style="color:#ae81ff">0.271860</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.087401</span>    <span style="color:#ae81ff">0.524988</span>
</code></pre></div><p>根据行名排序：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># 注意参数axis指定1为行名，0时为列名，在此例子中则代表根据时间正序或者逆序</span>
<span style="color:#75715e"># ascending代表是否逆序</span>

In [<span style="color:#ae81ff">21</span>]: df<span style="color:#f92672">.</span>sort_index(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, ascending<span style="color:#f92672">=</span>False)
Out[<span style="color:#ae81ff">21</span>]:
                   D         C         B         A
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.135632</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.282863</span>  <span style="color:#ae81ff">0.469112</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.044236</span>  <span style="color:#ae81ff">0.119209</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>  <span style="color:#ae81ff">1.212112</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>  <span style="color:#ae81ff">1.071804</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.271860</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span>  <span style="color:#ae81ff">0.721555</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.087401</span>  <span style="color:#ae81ff">0.276232</span>  <span style="color:#ae81ff">0.567020</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.424972</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>  <span style="color:#ae81ff">0.524988</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.478427</span>  <span style="color:#ae81ff">0.113648</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.673690</span>
</code></pre></div><h2 id="选择数据">选择数据</h2>
<blockquote>
<p>注意：尽管python/numpy的选择、赋值表达式很直观并且能很方便的在交互环境使用，但对于生产环境，我们推荐使用经过优化的pandas操作方法，比如.at,.iat,.loc,.iloc,.ix等</p>
</blockquote>
<p>更多说明请参考 Indexing and Selecting Data 和 MultiIndex / Advanced Indexing 。</p>
<h3 id="获得数据">获得数据</h3>
<p>选择一列，返回<code>Series</code>对象，等价于df.A：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">23</span>]: df[<span style="color:#e6db74">&#39;A&#39;</span>]
Out[<span style="color:#ae81ff">23</span>]:
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    <span style="color:#ae81ff">0.469112</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>    <span style="color:#ae81ff">1.212112</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    <span style="color:#ae81ff">0.721555</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.424972</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.673690</span>
Freq: D, Name: A, dtype: float64
</code></pre></div><p>使用<code>[]</code>选择数据，返回行的切片：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">24</span>]: df[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">3</span>]
Out[<span style="color:#ae81ff">24</span>]:
                   A         B         C         D
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  <span style="color:#ae81ff">0.469112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.282863</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.135632</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>  <span style="color:#ae81ff">0.119209</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.044236</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span>  <span style="color:#ae81ff">1.071804</span>

In [<span style="color:#ae81ff">25</span>]: df[<span style="color:#e6db74">&#39;20130102&#39;</span>:<span style="color:#e6db74">&#39;20130104&#39;</span>]
Out[<span style="color:#ae81ff">25</span>]:
                   A         B         C         D
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>  <span style="color:#ae81ff">0.119209</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.044236</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span>  <span style="color:#ae81ff">1.071804</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.721555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span>  <span style="color:#ae81ff">0.271860</span>
</code></pre></div><h3 id="使用标签获得数据">使用标签获得数据</h3>
<p>通过标签获取第一行：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">26</span>]: df<span style="color:#f92672">.</span>loc[dates[<span style="color:#ae81ff">0</span>]]
Out[<span style="color:#ae81ff">26</span>]:
A    <span style="color:#ae81ff">0.469112</span>
B   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.282863</span>
C   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span>
D   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.135632</span>
Name: <span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span> <span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>, dtype: float64
</code></pre></div><p>通过标签获取多个列：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">27</span>]: df<span style="color:#f92672">.</span>loc[:,[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>]]
Out[<span style="color:#ae81ff">27</span>]:
                   A         B
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  <span style="color:#ae81ff">0.469112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.282863</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.721555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.424972</span>  <span style="color:#ae81ff">0.567020</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.673690</span>  <span style="color:#ae81ff">0.113648</span>
</code></pre></div><p>获取一定标签范围的数据，<strong>包含起始和结尾两条数据</strong> （这个注意和Python的切片操作有略微不同，Python切片是不包含结尾的）:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">28</span>]: df<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;20130102&#39;</span>:<span style="color:#e6db74">&#39;20130104&#39;</span>,[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>]]
Out[<span style="color:#ae81ff">28</span>]:
                   A         B
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.721555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span>
</code></pre></div><p>减少返回数据量：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">29</span>]: df<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;20130102&#39;</span>,[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>]]
Out[<span style="color:#ae81ff">29</span>]:
A    <span style="color:#ae81ff">1.212112</span>
B   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>
Name: <span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span> <span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>, dtype: float64
</code></pre></div><p>获取一个标量值(scalar value)：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">30</span>]: df<span style="color:#f92672">.</span>loc[dates[<span style="color:#ae81ff">0</span>],<span style="color:#e6db74">&#39;A&#39;</span>]
Out[<span style="color:#ae81ff">30</span>]: <span style="color:#ae81ff">0.46911229990718628</span>
</code></pre></div><p>快速获取一个标量(等同前面的方法)：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">31</span>]: df<span style="color:#f92672">.</span>at[dates[<span style="color:#ae81ff">0</span>],<span style="color:#e6db74">&#39;A&#39;</span>]
Out[<span style="color:#ae81ff">31</span>]: <span style="color:#ae81ff">0.46911229990718628</span>
</code></pre></div><h3 id="使用下标获取数据">使用下标获取数据</h3>
<p>通过整数下标来选择数据：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">32</span>]: df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">3</span>]
Out[<span style="color:#ae81ff">32</span>]:
A    <span style="color:#ae81ff">0.721555</span>
B   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span>
C   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span>
D    <span style="color:#ae81ff">0.271860</span>
Name: <span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span> <span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>, dtype: float64
</code></pre></div><p>通过下标切片来获取数据，和python/numpy类似：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">33</span>]: df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">2</span>]
Out[<span style="color:#ae81ff">33</span>]:
                   A         B
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.721555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.424972</span>  <span style="color:#ae81ff">0.567020</span>
</code></pre></div><p>通过下标数组来获取数据，和python/numpy类似：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">34</span>]: df<span style="color:#f92672">.</span>iloc[[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">4</span>],[<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">2</span>]]
Out[<span style="color:#ae81ff">34</span>]:
                   A         C
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span>  <span style="color:#ae81ff">0.119209</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.424972</span>  <span style="color:#ae81ff">0.276232</span>
</code></pre></div><p>显式的指定行：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">35</span>]: df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>,:]
Out[<span style="color:#ae81ff">35</span>]:
                   A         B         C         D
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>  <span style="color:#ae81ff">0.119209</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.044236</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span>  <span style="color:#ae81ff">1.071804</span>
</code></pre></div><p>显式的指定列：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">36</span>]: df<span style="color:#f92672">.</span>iloc[:,<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>]
Out[<span style="color:#ae81ff">36</span>]:
                   B         C
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.282863</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>  <span style="color:#ae81ff">0.119209</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>  <span style="color:#ae81ff">0.567020</span>  <span style="color:#ae81ff">0.276232</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>  <span style="color:#ae81ff">0.113648</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.478427</span>
</code></pre></div><p>显式指定值：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">37</span>]: df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>]
Out[<span style="color:#ae81ff">37</span>]: <span style="color:#f92672">-</span><span style="color:#ae81ff">0.17321464905330858</span>
</code></pre></div><p>或者更快的方法：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">38</span>]: df<span style="color:#f92672">.</span>iat[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>]
Out[<span style="color:#ae81ff">38</span>]: <span style="color:#f92672">-</span><span style="color:#ae81ff">0.17321464905330858</span>
</code></pre></div><h3 id="根据布尔值选择">根据布尔值选择</h3>
<p>根据某列值来选择：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">In [<span style="color:#ae81ff">39</span>]: df[df<span style="color:#f92672">.</span>A <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>]
Out[<span style="color:#ae81ff">39</span>]:
                   A         B         C         D
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  <span style="color:#ae81ff">0.469112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.282863</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.135632</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>  <span style="color:#ae81ff">0.119209</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.044236</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.721555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span>  <span style="color:#ae81ff">0.271860</span>
</code></pre></div><p>根据布尔值在整个<code>DataFrame</code>上选择数据：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">40</span>]: df[df <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>]
Out[<span style="color:#ae81ff">40</span>]:
                   A         B         C         D
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  <span style="color:#ae81ff">0.469112</span>       NaN       NaN       NaN
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span>       NaN  <span style="color:#ae81ff">0.119209</span>       NaN
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>       NaN       NaN       NaN  <span style="color:#ae81ff">1.071804</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.721555</span>       NaN       NaN  <span style="color:#ae81ff">0.271860</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>       NaN  <span style="color:#ae81ff">0.567020</span>  <span style="color:#ae81ff">0.276232</span>       NaN
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>       NaN  <span style="color:#ae81ff">0.113648</span>       NaN  <span style="color:#ae81ff">0.524988</span>
</code></pre></div><p>使用<code>isin()</code>函数进行过滤：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">41</span>]: df2 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>copy()

In [<span style="color:#ae81ff">42</span>]: df2[<span style="color:#e6db74">&#39;E&#39;</span>] <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;one&#39;</span>, <span style="color:#e6db74">&#39;one&#39;</span>,<span style="color:#e6db74">&#39;two&#39;</span>,<span style="color:#e6db74">&#39;three&#39;</span>,<span style="color:#e6db74">&#39;four&#39;</span>,<span style="color:#e6db74">&#39;three&#39;</span>]

In [<span style="color:#ae81ff">43</span>]: df2
Out[<span style="color:#ae81ff">43</span>]:
                   A         B         C         D      E
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  <span style="color:#ae81ff">0.469112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.282863</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.135632</span>    one
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>  <span style="color:#ae81ff">0.119209</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.044236</span>    one
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span>  <span style="color:#ae81ff">1.071804</span>    two
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.721555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span>  <span style="color:#ae81ff">0.271860</span>  three
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.424972</span>  <span style="color:#ae81ff">0.567020</span>  <span style="color:#ae81ff">0.276232</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.087401</span>   four
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.673690</span>  <span style="color:#ae81ff">0.113648</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.478427</span>  <span style="color:#ae81ff">0.524988</span>  three

In [<span style="color:#ae81ff">44</span>]: df2[df2[<span style="color:#e6db74">&#39;E&#39;</span>]<span style="color:#f92672">.</span>isin([<span style="color:#e6db74">&#39;two&#39;</span>,<span style="color:#e6db74">&#39;four&#39;</span>])]
Out[<span style="color:#ae81ff">44</span>]:
                   A         B         C         D     E
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span>  <span style="color:#ae81ff">1.071804</span>   two
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.424972</span>  <span style="color:#ae81ff">0.567020</span>  <span style="color:#ae81ff">0.276232</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.087401</span>  four
</code></pre></div><h3 id="赋值">赋值</h3>
<p>创建一个新列并自动根据索引将数据对其：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">45</span>]: s1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>], index<span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>date_range(<span style="color:#e6db74">&#39;20130102&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">6</span>))

In [<span style="color:#ae81ff">46</span>]: s1
Out[<span style="color:#ae81ff">46</span>]:
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>    <span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>    <span style="color:#ae81ff">2</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    <span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>    <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>    <span style="color:#ae81ff">5</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">07</span>    <span style="color:#ae81ff">6</span>
Freq: D, dtype: int64

In [<span style="color:#ae81ff">47</span>]: df[<span style="color:#e6db74">&#39;F&#39;</span>] <span style="color:#f92672">=</span> s1
</code></pre></div><p>根据标签赋值：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">48</span>]: df<span style="color:#f92672">.</span>at[dates[<span style="color:#ae81ff">0</span>],<span style="color:#e6db74">&#39;A&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</code></pre></div><p>根据下标赋值：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">49</span>]: df<span style="color:#f92672">.</span>iat[<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</code></pre></div><p>使用numpy数组赋值：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">50</span>]: df<span style="color:#f92672">.</span>loc[:,<span style="color:#e6db74">&#39;D&#39;</span>] <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">5</span>] <span style="color:#f92672">*</span> len(df))
</code></pre></div><p>上面操作后结果如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">
<span style="color:#75715e"># 注意F列，声明时候从1月2日开始，所以第一行为NAN</span>
In [<span style="color:#ae81ff">51</span>]: df
Out[<span style="color:#ae81ff">51</span>]:
                   A         B         C  D    F
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  <span style="color:#ae81ff">0.000000</span>  <span style="color:#ae81ff">0.000000</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span>  <span style="color:#ae81ff">5</span>  NaN
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>  <span style="color:#ae81ff">0.119209</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">1.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">2.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.721555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">3.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.424972</span>  <span style="color:#ae81ff">0.567020</span>  <span style="color:#ae81ff">0.276232</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">4.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.673690</span>  <span style="color:#ae81ff">0.113648</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.478427</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">5.0</span>
</code></pre></div><p>使用<code>where</code>操作：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">52</span>]: df2 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>copy()
<span style="color:#75715e"># 把所有大于0的数据取反</span>
In [<span style="color:#ae81ff">53</span>]: df2[df2 <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>df2

In [<span style="color:#ae81ff">54</span>]: df2
Out[<span style="color:#ae81ff">54</span>]:
                   A         B         C  D    F
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  <span style="color:#ae81ff">0.000000</span>  <span style="color:#ae81ff">0.000000</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>  NaN
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.119209</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">5</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">5</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.721555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">5</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">3.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.424972</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.567020</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.276232</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">5</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.673690</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.113648</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.478427</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">5</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">5.0</span>
</code></pre></div><h2 id="数据缺失">数据缺失</h2>
<p>pandas使用<code>np.nan</code>来填充缺失的数据，默认情况下这些数值不会被计算，细节参考Missing Data section。</p>
<p><code>Reindexing</code>函数准许你 改变/添加/删除 指定轴上的索引，并返回数据的副本：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">55</span>]: df1 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>reindex(index<span style="color:#f92672">=</span>dates[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">4</span>], columns<span style="color:#f92672">=</span>list(df<span style="color:#f92672">.</span>columns) <span style="color:#f92672">+</span> [<span style="color:#e6db74">&#39;E&#39;</span>])

In [<span style="color:#ae81ff">56</span>]: df1<span style="color:#f92672">.</span>loc[dates[<span style="color:#ae81ff">0</span>]:dates[<span style="color:#ae81ff">1</span>],<span style="color:#e6db74">&#39;E&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>

In [<span style="color:#ae81ff">57</span>]: df1
Out[<span style="color:#ae81ff">57</span>]:
                   A         B         C  D    F    E
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  <span style="color:#ae81ff">0.000000</span>  <span style="color:#ae81ff">0.000000</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span>  <span style="color:#ae81ff">5</span>  NaN  <span style="color:#ae81ff">1.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>  <span style="color:#ae81ff">0.119209</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">1.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">2.0</span>  NaN
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.721555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">3.0</span>  NaN
</code></pre></div><p>删除所有包含<code>NaN</code>数据的行：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">58</span>]: df1<span style="color:#f92672">.</span>dropna(how<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;any&#39;</span>)
Out[<span style="color:#ae81ff">58</span>]:
                   A         B         C  D    F    E
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>  <span style="color:#ae81ff">0.119209</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">1.0</span>
</code></pre></div><p>填充缺失的数据：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">59</span>]: df1<span style="color:#f92672">.</span>fillna(value<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>)
Out[<span style="color:#ae81ff">59</span>]:
                   A         B         C  D    F    E
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  <span style="color:#ae81ff">0.000000</span>  <span style="color:#ae81ff">0.000000</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">5.0</span>  <span style="color:#ae81ff">1.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span>  <span style="color:#ae81ff">0.119209</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">1.0</span>  <span style="color:#ae81ff">1.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.494929</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">2.0</span>  <span style="color:#ae81ff">5.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">0.721555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.706771</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.039575</span>  <span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">3.0</span>  <span style="color:#ae81ff">5.0</span>
</code></pre></div><p>根据是否是<code>NaN</code>来获取布尔值：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">60</span>]: pd<span style="color:#f92672">.</span>isna(df1)
Out[<span style="color:#ae81ff">60</span>]:
                A      B      C      D      F      E
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  False  False  False  False   True  False
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  False  False  False  False  False  False
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>  False  False  False  False  False   True
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  False  False  False  False  False   True
</code></pre></div><h2 id="操作">操作</h2>
<p>细节请查看Basic section on Binary Ops</p>
<h3 id="统计数据">统计数据</h3>
<p>所有的操作都 <em><strong>排除缺失</strong></em> 的数据。执行一个统计函数：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">61</span>]: df<span style="color:#f92672">.</span>mean()
Out[<span style="color:#ae81ff">61</span>]:
A   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.004474</span>
B   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.383981</span>
C   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.687758</span>
D    <span style="color:#ae81ff">5.000000</span>
F    <span style="color:#ae81ff">3.000000</span>
dtype: float64
</code></pre></div><p>在别的轴上执行相同的操作：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">62</span>]: df<span style="color:#f92672">.</span>mean(<span style="color:#ae81ff">1</span>)
Out[<span style="color:#ae81ff">62</span>]:
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    <span style="color:#ae81ff">0.872735</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>    <span style="color:#ae81ff">1.431621</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>    <span style="color:#ae81ff">0.707731</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    <span style="color:#ae81ff">1.395042</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>    <span style="color:#ae81ff">1.883656</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>    <span style="color:#ae81ff">1.592306</span>
Freq: D, dtype: float64
</code></pre></div><p>操作有不同的维度，因此需要对齐数据。此外pandas会自动根据指定的维度进行扩展：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">63</span>]: s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">5</span>,np<span style="color:#f92672">.</span>nan,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">8</span>], index<span style="color:#f92672">=</span>dates)<span style="color:#f92672">.</span>shift(<span style="color:#ae81ff">2</span>)

In [<span style="color:#ae81ff">64</span>]: s
Out[<span style="color:#ae81ff">64</span>]:
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    NaN
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>    NaN
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>    <span style="color:#ae81ff">1.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    <span style="color:#ae81ff">3.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>    <span style="color:#ae81ff">5.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>    NaN
Freq: D, dtype: float64

In [<span style="color:#ae81ff">65</span>]: df<span style="color:#f92672">.</span>sub(s, axis<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;index&#39;</span>)
Out[<span style="color:#ae81ff">65</span>]:
                   A         B         C    D    F
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>       NaN       NaN       NaN  NaN  NaN
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>       NaN       NaN       NaN  NaN  NaN
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.861849</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">3.104569</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.494929</span>  <span style="color:#ae81ff">4.0</span>  <span style="color:#ae81ff">1.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.278445</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">3.706771</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.039575</span>  <span style="color:#ae81ff">2.0</span>  <span style="color:#ae81ff">0.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">5.424972</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.432980</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.723768</span>  <span style="color:#ae81ff">0.0</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>       NaN       NaN       NaN  NaN  NaN
</code></pre></div><h3 id="应用函数">应用函数</h3>
<p>在数据集上应用函数：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">66</span>]: df<span style="color:#f92672">.</span>apply(np<span style="color:#f92672">.</span>cumsum)
Out[<span style="color:#ae81ff">66</span>]:
                   A         B         C   D     F
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>  <span style="color:#ae81ff">0.000000</span>  <span style="color:#ae81ff">0.000000</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.509059</span>   <span style="color:#ae81ff">5</span>   NaN
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#ae81ff">1.212112</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.173215</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.389850</span>  <span style="color:#ae81ff">10</span>   <span style="color:#ae81ff">1.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>  <span style="color:#ae81ff">0.350263</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.277784</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.884779</span>  <span style="color:#ae81ff">15</span>   <span style="color:#ae81ff">3.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">1.071818</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.984555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.924354</span>  <span style="color:#ae81ff">20</span>   <span style="color:#ae81ff">6.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>  <span style="color:#ae81ff">0.646846</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.417535</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.648122</span>  <span style="color:#ae81ff">25</span>  <span style="color:#ae81ff">10.0</span>
<span style="color:#ae81ff">2013</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.026844</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">2.303886</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.126549</span>  <span style="color:#ae81ff">30</span>  <span style="color:#ae81ff">15.0</span>

In [<span style="color:#ae81ff">67</span>]: df<span style="color:#f92672">.</span>apply(<span style="color:#66d9ef">lambda</span> x: x<span style="color:#f92672">.</span>max() <span style="color:#f92672">-</span> x<span style="color:#f92672">.</span>min())
Out[<span style="color:#ae81ff">67</span>]:
A    <span style="color:#ae81ff">2.073961</span>
B    <span style="color:#ae81ff">2.671590</span>
C    <span style="color:#ae81ff">1.785291</span>
D    <span style="color:#ae81ff">0.000000</span>
F    <span style="color:#ae81ff">4.000000</span>
dtype: float64
</code></pre></div><h3 id="直方图">直方图</h3>
<p>更多细节查看Histogramming and Discretization</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">68</span>]: s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">7</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>))

In [<span style="color:#ae81ff">69</span>]: s
Out[<span style="color:#ae81ff">69</span>]:
<span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">2</span>
<span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">3</span>    <span style="color:#ae81ff">2</span>
<span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">6</span>
<span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">6</span>    <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">7</span>    <span style="color:#ae81ff">6</span>
<span style="color:#ae81ff">8</span>    <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">9</span>    <span style="color:#ae81ff">4</span>
dtype: int64

In [<span style="color:#ae81ff">70</span>]: s<span style="color:#f92672">.</span>value_counts()
Out[<span style="color:#ae81ff">70</span>]:
<span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">5</span>
<span style="color:#ae81ff">6</span>    <span style="color:#ae81ff">2</span>
<span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">2</span>
<span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">1</span>
dtype: int64
</code></pre></div><h3 id="字符串方法">字符串方法</h3>
<p>在<code>Series</code>上可以通过<code>str</code>属性方便的在数组每一个元素上使用一系列字符串处理函数，如下面所示。注意在<code>str</code>上默认使用正则表达式来进行模式匹配。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">71</span>]: s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series([<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>, <span style="color:#e6db74">&#39;C&#39;</span>, <span style="color:#e6db74">&#39;Aaba&#39;</span>, <span style="color:#e6db74">&#39;Baca&#39;</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#e6db74">&#39;CABA&#39;</span>, <span style="color:#e6db74">&#39;dog&#39;</span>, <span style="color:#e6db74">&#39;cat&#39;</span>])

In [<span style="color:#ae81ff">72</span>]: s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>lower()
Out[<span style="color:#ae81ff">72</span>]:
<span style="color:#ae81ff">0</span>       a
<span style="color:#ae81ff">1</span>       b
<span style="color:#ae81ff">2</span>       c
<span style="color:#ae81ff">3</span>    aaba
<span style="color:#ae81ff">4</span>    baca
<span style="color:#ae81ff">5</span>     NaN
<span style="color:#ae81ff">6</span>    caba
<span style="color:#ae81ff">7</span>     dog
<span style="color:#ae81ff">8</span>     cat
dtype: object
</code></pre></div><h2 id="merge">Merge</h2>
<p>pandas提供了很多种方法合并<code>Series</code>、<code>DataFrame</code>和<code>Panel</code>，并且提供了各种各样的关系代数函数可以应用在索引上，比如<code>join/merge-type</code>操作。</p>
<h3 id="concat">concat</h3>
<p>使用<code>concat</code>函数来连接pandas数据类型：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">73</span>]: df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">4</span>))

In [<span style="color:#ae81ff">74</span>]: df
Out[<span style="color:#ae81ff">74</span>]:
          <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">2</span>         <span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">0</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.548702</span>  <span style="color:#ae81ff">1.467327</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.015962</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.483075</span>
<span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1.637550</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.217659</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.291519</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.745505</span>
<span style="color:#ae81ff">2</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.263952</span>  <span style="color:#ae81ff">0.991460</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.919069</span>  <span style="color:#ae81ff">0.266046</span>
<span style="color:#ae81ff">3</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.709661</span>  <span style="color:#ae81ff">1.669052</span>  <span style="color:#ae81ff">1.037882</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.705775</span>
<span style="color:#ae81ff">4</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.919854</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.042379</span>  <span style="color:#ae81ff">1.247642</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.009920</span>
<span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">0.290213</span>  <span style="color:#ae81ff">0.495767</span>  <span style="color:#ae81ff">0.362949</span>  <span style="color:#ae81ff">1.548106</span>
<span style="color:#ae81ff">6</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.131345</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.089329</span>  <span style="color:#ae81ff">0.337863</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.945867</span>
<span style="color:#ae81ff">7</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.932132</span>  <span style="color:#ae81ff">1.956030</span>  <span style="color:#ae81ff">0.017587</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.016692</span>
<span style="color:#ae81ff">8</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.575247</span>  <span style="color:#ae81ff">0.254161</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.143704</span>  <span style="color:#ae81ff">0.215897</span>
<span style="color:#ae81ff">9</span>  <span style="color:#ae81ff">1.193555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.077118</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.408530</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.862495</span>

<span style="color:#75715e"># break it into pieces</span>
In [<span style="color:#ae81ff">75</span>]: pieces <span style="color:#f92672">=</span> [df[:<span style="color:#ae81ff">3</span>], df[<span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">7</span>], df[<span style="color:#ae81ff">7</span>:]]

In [<span style="color:#ae81ff">76</span>]: pd<span style="color:#f92672">.</span>concat(pieces)
Out[<span style="color:#ae81ff">76</span>]:
          <span style="color:#ae81ff">0</span>         <span style="color:#ae81ff">1</span>         <span style="color:#ae81ff">2</span>         <span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">0</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.548702</span>  <span style="color:#ae81ff">1.467327</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.015962</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.483075</span>
<span style="color:#ae81ff">1</span>  <span style="color:#ae81ff">1.637550</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.217659</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.291519</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.745505</span>
<span style="color:#ae81ff">2</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.263952</span>  <span style="color:#ae81ff">0.991460</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.919069</span>  <span style="color:#ae81ff">0.266046</span>
<span style="color:#ae81ff">3</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.709661</span>  <span style="color:#ae81ff">1.669052</span>  <span style="color:#ae81ff">1.037882</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.705775</span>
<span style="color:#ae81ff">4</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.919854</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.042379</span>  <span style="color:#ae81ff">1.247642</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.009920</span>
<span style="color:#ae81ff">5</span>  <span style="color:#ae81ff">0.290213</span>  <span style="color:#ae81ff">0.495767</span>  <span style="color:#ae81ff">0.362949</span>  <span style="color:#ae81ff">1.548106</span>
<span style="color:#ae81ff">6</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.131345</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.089329</span>  <span style="color:#ae81ff">0.337863</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.945867</span>
<span style="color:#ae81ff">7</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.932132</span>  <span style="color:#ae81ff">1.956030</span>  <span style="color:#ae81ff">0.017587</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.016692</span>
<span style="color:#ae81ff">8</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.575247</span>  <span style="color:#ae81ff">0.254161</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.143704</span>  <span style="color:#ae81ff">0.215897</span>
<span style="color:#ae81ff">9</span>  <span style="color:#ae81ff">1.193555</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.077118</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.408530</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.862495</span>
</code></pre></div><h3 id="join">join</h3>
<p>类似SQL中的join操作：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">77</span>]: left <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;key&#39;</span>: [<span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;foo&#39;</span>], <span style="color:#e6db74">&#39;lval&#39;</span>: [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>]})

In [<span style="color:#ae81ff">78</span>]: right <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;key&#39;</span>: [<span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;foo&#39;</span>], <span style="color:#e6db74">&#39;rval&#39;</span>: [<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]})

In [<span style="color:#ae81ff">79</span>]: left
Out[<span style="color:#ae81ff">79</span>]:
   key  lval
<span style="color:#ae81ff">0</span>  foo     <span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">1</span>  foo     <span style="color:#ae81ff">2</span>

In [<span style="color:#ae81ff">80</span>]: right
Out[<span style="color:#ae81ff">80</span>]:
   key  rval
<span style="color:#ae81ff">0</span>  foo     <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">1</span>  foo     <span style="color:#ae81ff">5</span>

In [<span style="color:#ae81ff">81</span>]: pd<span style="color:#f92672">.</span>merge(left, right, on<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;key&#39;</span>)
Out[<span style="color:#ae81ff">81</span>]:
   key  lval  rval
<span style="color:#ae81ff">0</span>  foo     <span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">1</span>  foo     <span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">5</span>
<span style="color:#ae81ff">2</span>  foo     <span style="color:#ae81ff">2</span>     <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">3</span>  foo     <span style="color:#ae81ff">2</span>     <span style="color:#ae81ff">5</span>
</code></pre></div><p>另一种显示方式：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">82</span>]: left <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;key&#39;</span>: [<span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;bar&#39;</span>], <span style="color:#e6db74">&#39;lval&#39;</span>: [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>]})

In [<span style="color:#ae81ff">83</span>]: right <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;key&#39;</span>: [<span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;bar&#39;</span>], <span style="color:#e6db74">&#39;rval&#39;</span>: [<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]})

In [<span style="color:#ae81ff">84</span>]: left
Out[<span style="color:#ae81ff">84</span>]:
   key  lval
<span style="color:#ae81ff">0</span>  foo     <span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">1</span>  bar     <span style="color:#ae81ff">2</span>

In [<span style="color:#ae81ff">85</span>]: right
Out[<span style="color:#ae81ff">85</span>]:
   key  rval
<span style="color:#ae81ff">0</span>  foo     <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">1</span>  bar     <span style="color:#ae81ff">5</span>

In [<span style="color:#ae81ff">86</span>]: pd<span style="color:#f92672">.</span>merge(left, right, on<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;key&#39;</span>)
Out[<span style="color:#ae81ff">86</span>]:
   key  lval  rval
<span style="color:#ae81ff">0</span>  foo     <span style="color:#ae81ff">1</span>     <span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">1</span>  bar     <span style="color:#ae81ff">2</span>     <span style="color:#ae81ff">5</span>
</code></pre></div><h3 id="append">Append</h3>
<p>追加一行到数据中：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">87</span>]: df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">4</span>), columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>,<span style="color:#e6db74">&#39;D&#39;</span>])

In [<span style="color:#ae81ff">88</span>]: df
Out[<span style="color:#ae81ff">88</span>]:
          A         B         C         D
<span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">1.346061</span>  <span style="color:#ae81ff">1.511763</span>  <span style="color:#ae81ff">1.627081</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.990582</span>
<span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.441652</span>  <span style="color:#ae81ff">1.211526</span>  <span style="color:#ae81ff">0.268520</span>  <span style="color:#ae81ff">0.024580</span>
<span style="color:#ae81ff">2</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.577585</span>  <span style="color:#ae81ff">0.396823</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.105381</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.532532</span>
<span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">1.453749</span>  <span style="color:#ae81ff">1.208843</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.080952</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.264610</span>
<span style="color:#ae81ff">4</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.727965</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.589346</span>  <span style="color:#ae81ff">0.339969</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.693205</span>
<span style="color:#ae81ff">5</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.339355</span>  <span style="color:#ae81ff">0.593616</span>  <span style="color:#ae81ff">0.884345</span>  <span style="color:#ae81ff">1.591431</span>
<span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">0.141809</span>  <span style="color:#ae81ff">0.220390</span>  <span style="color:#ae81ff">0.435589</span>  <span style="color:#ae81ff">0.192451</span>
<span style="color:#ae81ff">7</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.096701</span>  <span style="color:#ae81ff">0.803351</span>  <span style="color:#ae81ff">1.715071</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.708758</span>

In [<span style="color:#ae81ff">89</span>]: s <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">3</span>]

<span style="color:#75715e"># 注意后面的ignore_index参数</span>
In [<span style="color:#ae81ff">90</span>]: df<span style="color:#f92672">.</span>append(s, ignore_index<span style="color:#f92672">=</span>True)
Out[<span style="color:#ae81ff">90</span>]:
          A         B         C         D
<span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">1.346061</span>  <span style="color:#ae81ff">1.511763</span>  <span style="color:#ae81ff">1.627081</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.990582</span>
<span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.441652</span>  <span style="color:#ae81ff">1.211526</span>  <span style="color:#ae81ff">0.268520</span>  <span style="color:#ae81ff">0.024580</span>
<span style="color:#ae81ff">2</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.577585</span>  <span style="color:#ae81ff">0.396823</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.105381</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.532532</span>
<span style="color:#ae81ff">3</span>  <span style="color:#ae81ff">1.453749</span>  <span style="color:#ae81ff">1.208843</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.080952</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.264610</span>
<span style="color:#ae81ff">4</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.727965</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.589346</span>  <span style="color:#ae81ff">0.339969</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.693205</span>
<span style="color:#ae81ff">5</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.339355</span>  <span style="color:#ae81ff">0.593616</span>  <span style="color:#ae81ff">0.884345</span>  <span style="color:#ae81ff">1.591431</span>
<span style="color:#ae81ff">6</span>  <span style="color:#ae81ff">0.141809</span>  <span style="color:#ae81ff">0.220390</span>  <span style="color:#ae81ff">0.435589</span>  <span style="color:#ae81ff">0.192451</span>
<span style="color:#ae81ff">7</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.096701</span>  <span style="color:#ae81ff">0.803351</span>  <span style="color:#ae81ff">1.715071</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.708758</span>
<span style="color:#ae81ff">8</span>  <span style="color:#ae81ff">1.453749</span>  <span style="color:#ae81ff">1.208843</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.080952</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.264610</span>
</code></pre></div><h2 id="grouping">Grouping</h2>
<p>这里说的&quot;group by&quot;指的是下面几步：</p>
<ul>
<li>根据条件将数据 <strong>分割</strong> 成组</li>
<li>对每个组 <strong>应用</strong> 函数</li>
<li>将结果 <strong>组合</strong> 起来到一个数据结构中</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">91</span>]: df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;A&#39;</span> : [<span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;bar&#39;</span>, <span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;bar&#39;</span>,
   <span style="color:#f92672">....</span>:                           <span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;bar&#39;</span>, <span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;foo&#39;</span>],
   <span style="color:#f92672">....</span>:                    <span style="color:#e6db74">&#39;B&#39;</span> : [<span style="color:#e6db74">&#39;one&#39;</span>, <span style="color:#e6db74">&#39;one&#39;</span>, <span style="color:#e6db74">&#39;two&#39;</span>, <span style="color:#e6db74">&#39;three&#39;</span>,
   <span style="color:#f92672">....</span>:                           <span style="color:#e6db74">&#39;two&#39;</span>, <span style="color:#e6db74">&#39;two&#39;</span>, <span style="color:#e6db74">&#39;one&#39;</span>, <span style="color:#e6db74">&#39;three&#39;</span>],
   <span style="color:#f92672">....</span>:                    <span style="color:#e6db74">&#39;C&#39;</span> : np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">8</span>),
   <span style="color:#f92672">....</span>:                    <span style="color:#e6db74">&#39;D&#39;</span> : np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">8</span>)})
   <span style="color:#f92672">....</span>:

In [<span style="color:#ae81ff">92</span>]: df
Out[<span style="color:#ae81ff">92</span>]:
     A      B         C         D
<span style="color:#ae81ff">0</span>  foo    one <span style="color:#f92672">-</span><span style="color:#ae81ff">1.202872</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.055224</span>
<span style="color:#ae81ff">1</span>  bar    one <span style="color:#f92672">-</span><span style="color:#ae81ff">1.814470</span>  <span style="color:#ae81ff">2.395985</span>
<span style="color:#ae81ff">2</span>  foo    two  <span style="color:#ae81ff">1.018601</span>  <span style="color:#ae81ff">1.552825</span>
<span style="color:#ae81ff">3</span>  bar  three <span style="color:#f92672">-</span><span style="color:#ae81ff">0.595447</span>  <span style="color:#ae81ff">0.166599</span>
<span style="color:#ae81ff">4</span>  foo    two  <span style="color:#ae81ff">1.395433</span>  <span style="color:#ae81ff">0.047609</span>
<span style="color:#ae81ff">5</span>  bar    two <span style="color:#f92672">-</span><span style="color:#ae81ff">0.392670</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.136473</span>
<span style="color:#ae81ff">6</span>  foo    one  <span style="color:#ae81ff">0.007207</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.561757</span>
<span style="color:#ae81ff">7</span>  foo  three  <span style="color:#ae81ff">1.928123</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.623033</span>
</code></pre></div><p>分组并求和：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">93</span>]: df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;A&#39;</span>)<span style="color:#f92672">.</span>sum()
Out[<span style="color:#ae81ff">93</span>]:
            C        D
A                     
bar <span style="color:#f92672">-</span><span style="color:#ae81ff">2.802588</span>  <span style="color:#ae81ff">2.42611</span>
foo  <span style="color:#ae81ff">3.146492</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.63958</span>
</code></pre></div><p>根据多个列分组：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">94</span>]: df<span style="color:#f92672">.</span>groupby([<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>])<span style="color:#f92672">.</span>sum()
Out[<span style="color:#ae81ff">94</span>]:
                  C         D
A   B                        
bar one   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.814470</span>  <span style="color:#ae81ff">2.395985</span>
    three <span style="color:#f92672">-</span><span style="color:#ae81ff">0.595447</span>  <span style="color:#ae81ff">0.166599</span>
    two   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.392670</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.136473</span>
foo one   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.195665</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.616981</span>
    three  <span style="color:#ae81ff">1.928123</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.623033</span>
    two    <span style="color:#ae81ff">2.414034</span>  <span style="color:#ae81ff">1.600434</span>
</code></pre></div><h2 id="reshaping">Reshaping</h2>
<p>更多细节参考 <code>Hierarchical Indexing</code>和<code>Reshaping</code>。</p>
<h3 id="stack">Stack</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">95</span>]: tuples <span style="color:#f92672">=</span> list(zip(<span style="color:#f92672">*</span>[[<span style="color:#e6db74">&#39;bar&#39;</span>, <span style="color:#e6db74">&#39;bar&#39;</span>, <span style="color:#e6db74">&#39;baz&#39;</span>, <span style="color:#e6db74">&#39;baz&#39;</span>,
   <span style="color:#f92672">....</span>:                      <span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;qux&#39;</span>, <span style="color:#e6db74">&#39;qux&#39;</span>],
   <span style="color:#f92672">....</span>:                     [<span style="color:#e6db74">&#39;one&#39;</span>, <span style="color:#e6db74">&#39;two&#39;</span>, <span style="color:#e6db74">&#39;one&#39;</span>, <span style="color:#e6db74">&#39;two&#39;</span>,
   <span style="color:#f92672">....</span>:                      <span style="color:#e6db74">&#39;one&#39;</span>, <span style="color:#e6db74">&#39;two&#39;</span>, <span style="color:#e6db74">&#39;one&#39;</span>, <span style="color:#e6db74">&#39;two&#39;</span>]]))
   <span style="color:#f92672">....</span>:

In [<span style="color:#ae81ff">96</span>]: index <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>MultiIndex<span style="color:#f92672">.</span>from_tuples(tuples, names<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;first&#39;</span>, <span style="color:#e6db74">&#39;second&#39;</span>])

In [<span style="color:#ae81ff">97</span>]: df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">2</span>), index<span style="color:#f92672">=</span>index, columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>])

In [<span style="color:#ae81ff">98</span>]: df2 <span style="color:#f92672">=</span> df[:<span style="color:#ae81ff">4</span>]

In [<span style="color:#ae81ff">99</span>]: df2
Out[<span style="color:#ae81ff">99</span>]:
                     A         B
first second                    
bar   one     <span style="color:#ae81ff">0.029399</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.542108</span>
      two     <span style="color:#ae81ff">0.282696</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.087302</span>
baz   one    <span style="color:#f92672">-</span><span style="color:#ae81ff">1.575170</span>  <span style="color:#ae81ff">1.771208</span>
      two     <span style="color:#ae81ff">0.816482</span>  <span style="color:#ae81ff">1.100230</span>
</code></pre></div><p><code>stack()</code>方法将数据集列进行了压缩：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">100</span>]: stacked <span style="color:#f92672">=</span> df2<span style="color:#f92672">.</span>stack()

In [<span style="color:#ae81ff">101</span>]: stacked
Out[<span style="color:#ae81ff">101</span>]:
first  second   
bar    one     A    <span style="color:#ae81ff">0.029399</span>
               B   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.542108</span>
       two     A    <span style="color:#ae81ff">0.282696</span>
               B   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.087302</span>
baz    one     A   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.575170</span>
               B    <span style="color:#ae81ff">1.771208</span>
       two     A    <span style="color:#ae81ff">0.816482</span>
               B    <span style="color:#ae81ff">1.100230</span>
dtype: float64
</code></pre></div><p>对于使用<code>MultiIndex</code>作为索引的 DataFrame 或者 Series，<code>stack()</code>的逆操作是<code>unstack()</code>，默认转换到 <strong>最后一级</strong>。(last level 我也不知道怎么翻译合适了。)</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">102</span>]: stacked<span style="color:#f92672">.</span>unstack()
Out[<span style="color:#ae81ff">102</span>]:
                     A         B
first second                    
bar   one     <span style="color:#ae81ff">0.029399</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.542108</span>
      two     <span style="color:#ae81ff">0.282696</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.087302</span>
baz   one    <span style="color:#f92672">-</span><span style="color:#ae81ff">1.575170</span>  <span style="color:#ae81ff">1.771208</span>
      two     <span style="color:#ae81ff">0.816482</span>  <span style="color:#ae81ff">1.100230</span>

In [<span style="color:#ae81ff">103</span>]: stacked<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">1</span>)
Out[<span style="color:#ae81ff">103</span>]:
second        one       two
first                      
bar   A  <span style="color:#ae81ff">0.029399</span>  <span style="color:#ae81ff">0.282696</span>
      B <span style="color:#f92672">-</span><span style="color:#ae81ff">0.542108</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.087302</span>
baz   A <span style="color:#f92672">-</span><span style="color:#ae81ff">1.575170</span>  <span style="color:#ae81ff">0.816482</span>
      B  <span style="color:#ae81ff">1.771208</span>  <span style="color:#ae81ff">1.100230</span>

In [<span style="color:#ae81ff">104</span>]: stacked<span style="color:#f92672">.</span>unstack(<span style="color:#ae81ff">0</span>)
Out[<span style="color:#ae81ff">104</span>]:
first          bar       baz
second                      
one    A  <span style="color:#ae81ff">0.029399</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.575170</span>
       B <span style="color:#f92672">-</span><span style="color:#ae81ff">0.542108</span>  <span style="color:#ae81ff">1.771208</span>
two    A  <span style="color:#ae81ff">0.282696</span>  <span style="color:#ae81ff">0.816482</span>
       B <span style="color:#f92672">-</span><span style="color:#ae81ff">0.087302</span>  <span style="color:#ae81ff">1.100230</span>
</code></pre></div><h3 id="pivot-tables">Pivot Tables</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">105</span>]: df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;A&#39;</span> : [<span style="color:#e6db74">&#39;one&#39;</span>, <span style="color:#e6db74">&#39;one&#39;</span>, <span style="color:#e6db74">&#39;two&#39;</span>, <span style="color:#e6db74">&#39;three&#39;</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">3</span>,
   <span style="color:#f92672">.....</span>:                    <span style="color:#e6db74">&#39;B&#39;</span> : [<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>, <span style="color:#e6db74">&#39;C&#39;</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">4</span>,
   <span style="color:#f92672">.....</span>:                    <span style="color:#e6db74">&#39;C&#39;</span> : [<span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;bar&#39;</span>, <span style="color:#e6db74">&#39;bar&#39;</span>, <span style="color:#e6db74">&#39;bar&#39;</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>,
   <span style="color:#f92672">.....</span>:                    <span style="color:#e6db74">&#39;D&#39;</span> : np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">12</span>),
   <span style="color:#f92672">.....</span>:                    <span style="color:#e6db74">&#39;E&#39;</span> : np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">12</span>)})
   <span style="color:#f92672">.....</span>:

In [<span style="color:#ae81ff">106</span>]: df
Out[<span style="color:#ae81ff">106</span>]:
        A  B    C         D         E
<span style="color:#ae81ff">0</span>     one  A  foo  <span style="color:#ae81ff">1.418757</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.179666</span>
<span style="color:#ae81ff">1</span>     one  B  foo <span style="color:#f92672">-</span><span style="color:#ae81ff">1.879024</span>  <span style="color:#ae81ff">1.291836</span>
<span style="color:#ae81ff">2</span>     two  C  foo  <span style="color:#ae81ff">0.536826</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.009614</span>
<span style="color:#ae81ff">3</span>   three  A  bar  <span style="color:#ae81ff">1.006160</span>  <span style="color:#ae81ff">0.392149</span>
<span style="color:#ae81ff">4</span>     one  B  bar <span style="color:#f92672">-</span><span style="color:#ae81ff">0.029716</span>  <span style="color:#ae81ff">0.264599</span>
<span style="color:#ae81ff">5</span>     one  C  bar <span style="color:#f92672">-</span><span style="color:#ae81ff">1.146178</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.057409</span>
<span style="color:#ae81ff">6</span>     two  A  foo  <span style="color:#ae81ff">0.100900</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.425638</span>
<span style="color:#ae81ff">7</span>   three  B  foo <span style="color:#f92672">-</span><span style="color:#ae81ff">1.035018</span>  <span style="color:#ae81ff">1.024098</span>
<span style="color:#ae81ff">8</span>     one  C  foo  <span style="color:#ae81ff">0.314665</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.106062</span>
<span style="color:#ae81ff">9</span>     one  A  bar <span style="color:#f92672">-</span><span style="color:#ae81ff">0.773723</span>  <span style="color:#ae81ff">1.824375</span>
<span style="color:#ae81ff">10</span>    two  B  bar <span style="color:#f92672">-</span><span style="color:#ae81ff">1.170653</span>  <span style="color:#ae81ff">0.595974</span>
<span style="color:#ae81ff">11</span>  three  C  bar  <span style="color:#ae81ff">0.648740</span>  <span style="color:#ae81ff">1.167115</span>
</code></pre></div><p>我们可以很简单的生成透视表：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">107</span>]: pd<span style="color:#f92672">.</span>pivot_table(df, values<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;D&#39;</span>, index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>], columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;C&#39;</span>])
Out[<span style="color:#ae81ff">107</span>]:
C             bar       foo
A     B                    
one   A <span style="color:#f92672">-</span><span style="color:#ae81ff">0.773723</span>  <span style="color:#ae81ff">1.418757</span>
      B <span style="color:#f92672">-</span><span style="color:#ae81ff">0.029716</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.879024</span>
      C <span style="color:#f92672">-</span><span style="color:#ae81ff">1.146178</span>  <span style="color:#ae81ff">0.314665</span>
three A  <span style="color:#ae81ff">1.006160</span>       NaN
      B       NaN <span style="color:#f92672">-</span><span style="color:#ae81ff">1.035018</span>
      C  <span style="color:#ae81ff">0.648740</span>       NaN
two   A       NaN  <span style="color:#ae81ff">0.100900</span>
      B <span style="color:#f92672">-</span><span style="color:#ae81ff">1.170653</span>       NaN
      C       NaN  <span style="color:#ae81ff">0.536826</span>
</code></pre></div><h2 id="时间序列">时间序列</h2>
<p>pandas提供了简单、强大、有效的函数在频率转换时进行重采样操作（比如将每秒数据转换为每5分钟数据），这在金融领域是一种很常见的需求，但不限于此。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">108</span>]: rng <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>date_range(<span style="color:#e6db74">&#39;1/1/2012&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;S&#39;</span>)

In [<span style="color:#ae81ff">109</span>]: ts <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">500</span>, len(rng)), index<span style="color:#f92672">=</span>rng)

In [<span style="color:#ae81ff">110</span>]: ts<span style="color:#f92672">.</span>resample(<span style="color:#e6db74">&#39;5Min&#39;</span>)<span style="color:#f92672">.</span>sum()
Out[<span style="color:#ae81ff">110</span>]:
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    <span style="color:#ae81ff">25083</span>
Freq: <span style="color:#ae81ff">5</span>T, dtype: int64
</code></pre></div><p>时区表示：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">111</span>]: rng <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>date_range(<span style="color:#e6db74">&#39;3/6/2012 00:00&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;D&#39;</span>)

In [<span style="color:#ae81ff">112</span>]: ts <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(len(rng)), rng)

In [<span style="color:#ae81ff">113</span>]: ts
Out[<span style="color:#ae81ff">113</span>]:
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>    <span style="color:#ae81ff">0.464000</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">07</span>    <span style="color:#ae81ff">0.227371</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">08</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.496922</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span>    <span style="color:#ae81ff">0.306389</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">2.290613</span>
Freq: D, dtype: float64

In [<span style="color:#ae81ff">114</span>]: ts_utc <span style="color:#f92672">=</span> ts<span style="color:#f92672">.</span>tz_localize(<span style="color:#e6db74">&#39;UTC&#39;</span>)

In [<span style="color:#ae81ff">115</span>]: ts_utc
Out[<span style="color:#ae81ff">115</span>]:
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span> <span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span><span style="color:#f92672">+</span><span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>    <span style="color:#ae81ff">0.464000</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">07</span> <span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span><span style="color:#f92672">+</span><span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>    <span style="color:#ae81ff">0.227371</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">08</span> <span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span><span style="color:#f92672">+</span><span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.496922</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span> <span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span><span style="color:#f92672">+</span><span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>    <span style="color:#ae81ff">0.306389</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span> <span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span><span style="color:#f92672">+</span><span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">2.290613</span>
Freq: D, dtype: float64
</code></pre></div><p>转换时区：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">116</span>]: ts_utc<span style="color:#f92672">.</span>tz_convert(<span style="color:#e6db74">&#39;US/Eastern&#39;</span>)
Out[<span style="color:#ae81ff">116</span>]:
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span> <span style="color:#ae81ff">19</span>:<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>:<span style="color:#ae81ff">00</span>    <span style="color:#ae81ff">0.464000</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span> <span style="color:#ae81ff">19</span>:<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>:<span style="color:#ae81ff">00</span>    <span style="color:#ae81ff">0.227371</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">07</span> <span style="color:#ae81ff">19</span>:<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>:<span style="color:#ae81ff">00</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.496922</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">08</span> <span style="color:#ae81ff">19</span>:<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>:<span style="color:#ae81ff">00</span>    <span style="color:#ae81ff">0.306389</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span> <span style="color:#ae81ff">19</span>:<span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>:<span style="color:#ae81ff">00</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">2.290613</span>
Freq: D, dtype: float64
</code></pre></div><p>修改时间跨度：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#75715e">#比如数据中某个月的具体日期不同，想统一成每个月1号</span>

In [<span style="color:#ae81ff">117</span>]: rng <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>date_range(<span style="color:#e6db74">&#39;1/1/2012&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;M&#39;</span>)

In [<span style="color:#ae81ff">118</span>]: ts <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(len(rng)), index<span style="color:#f92672">=</span>rng)

In [<span style="color:#ae81ff">119</span>]: ts
Out[<span style="color:#ae81ff">119</span>]:
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">31</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.134623</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span><span style="color:#f92672">-</span><span style="color:#ae81ff">29</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.561819</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">31</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.260838</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span><span style="color:#f92672">-</span><span style="color:#ae81ff">30</span>    <span style="color:#ae81ff">0.281957</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span><span style="color:#f92672">-</span><span style="color:#ae81ff">31</span>    <span style="color:#ae81ff">1.523962</span>
Freq: M, dtype: float64

In [<span style="color:#ae81ff">120</span>]: ps <span style="color:#f92672">=</span> ts<span style="color:#f92672">.</span>to_period()

In [<span style="color:#ae81ff">121</span>]: ps
Out[<span style="color:#ae81ff">121</span>]:
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.134623</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.561819</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.260838</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>    <span style="color:#ae81ff">0.281957</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>    <span style="color:#ae81ff">1.523962</span>
Freq: M, dtype: float64

In [<span style="color:#ae81ff">122</span>]: ps<span style="color:#f92672">.</span>to_timestamp()
Out[<span style="color:#ae81ff">122</span>]:
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.134623</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.561819</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.260838</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    <span style="color:#ae81ff">0.281957</span>
<span style="color:#ae81ff">2012</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>    <span style="color:#ae81ff">1.523962</span>
Freq: MS, dtype: float64
</code></pre></div><p>在进行时区和时间戳之间的转换时可以使用一些算数函数，下面的例子中我们将季度结尾设定为11月并且设定时间为9点（这里翻译的很别扭，不确定文档错了还是我翻译的问题，可以将加法去掉对比来看）：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">123</span>]: prng <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>period_range(<span style="color:#e6db74">&#39;1990Q1&#39;</span>, <span style="color:#e6db74">&#39;2000Q4&#39;</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Q-NOV&#39;</span>)

In [<span style="color:#ae81ff">124</span>]: ts <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(len(prng)), prng)

In [<span style="color:#ae81ff">125</span>]: ts<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> (prng<span style="color:#f92672">.</span>asfreq(<span style="color:#e6db74">&#39;M&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)<span style="color:#f92672">.</span>asfreq(<span style="color:#e6db74">&#39;H&#39;</span>, <span style="color:#e6db74">&#39;s&#39;</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">9</span>

In [<span style="color:#ae81ff">126</span>]: ts<span style="color:#f92672">.</span>head()
Out[<span style="color:#ae81ff">126</span>]:
<span style="color:#ae81ff">1990</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span> <span style="color:#ae81ff">09</span>:<span style="color:#ae81ff">00</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.902937</span>
<span style="color:#ae81ff">1990</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span> <span style="color:#ae81ff">09</span>:<span style="color:#ae81ff">00</span>    <span style="color:#ae81ff">0.068159</span>
<span style="color:#ae81ff">1990</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span> <span style="color:#ae81ff">09</span>:<span style="color:#ae81ff">00</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.057873</span>
<span style="color:#ae81ff">1990</span><span style="color:#f92672">-</span><span style="color:#ae81ff">12</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span> <span style="color:#ae81ff">09</span>:<span style="color:#ae81ff">00</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">0.368204</span>
<span style="color:#ae81ff">1991</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span> <span style="color:#ae81ff">09</span>:<span style="color:#ae81ff">00</span>   <span style="color:#f92672">-</span><span style="color:#ae81ff">1.144073</span>
Freq: H, dtype: float64
</code></pre></div><h2 id="categoricals">Categoricals</h2>
<p>pandas可以在<code>DataFrame</code>中包含分类数据：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">127</span>]: df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#34;id&#34;</span>:[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>], <span style="color:#e6db74">&#34;raw_grade&#34;</span>:[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;e&#39;</span>]})
</code></pre></div><p>将原始的等级信息转换为分类：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">128</span>]: df[<span style="color:#e6db74">&#34;grade&#34;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#34;raw_grade&#34;</span>]<span style="color:#f92672">.</span>astype(<span style="color:#e6db74">&#34;category&#34;</span>)

In [<span style="color:#ae81ff">129</span>]: df[<span style="color:#e6db74">&#34;grade&#34;</span>]
Out[<span style="color:#ae81ff">129</span>]:
<span style="color:#ae81ff">0</span>    a
<span style="color:#ae81ff">1</span>    b
<span style="color:#ae81ff">2</span>    b
<span style="color:#ae81ff">3</span>    a
<span style="color:#ae81ff">4</span>    a
<span style="color:#ae81ff">5</span>    e
Name: grade, dtype: category
Categories (<span style="color:#ae81ff">3</span>, object): [a, b, e]
</code></pre></div><p>将分类转换为更易读的名称：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#75715e">#这里可以输出df[&#34;grade&#34;].cat.categories看到对应的原始值</span>

In [<span style="color:#ae81ff">130</span>]: df[<span style="color:#e6db74">&#34;grade&#34;</span>]<span style="color:#f92672">.</span>cat<span style="color:#f92672">.</span>categories <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;very good&#34;</span>, <span style="color:#e6db74">&#34;good&#34;</span>, <span style="color:#e6db74">&#34;very bad&#34;</span>]
</code></pre></div><p>根据分类排序并且添加缺失的类别（默认情况下<code>Series .cat</code>返回一个新的<code>Series</code>对象）：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">131</span>]: df[<span style="color:#e6db74">&#34;grade&#34;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#34;grade&#34;</span>]<span style="color:#f92672">.</span>cat<span style="color:#f92672">.</span>set_categories([<span style="color:#e6db74">&#34;very bad&#34;</span>, <span style="color:#e6db74">&#34;bad&#34;</span>, <span style="color:#e6db74">&#34;medium&#34;</span>, <span style="color:#e6db74">&#34;good&#34;</span>, <span style="color:#e6db74">&#34;very good&#34;</span>])

In [<span style="color:#ae81ff">132</span>]: df[<span style="color:#e6db74">&#34;grade&#34;</span>]
Out[<span style="color:#ae81ff">132</span>]:
<span style="color:#ae81ff">0</span>    very good
<span style="color:#ae81ff">1</span>         good
<span style="color:#ae81ff">2</span>         good
<span style="color:#ae81ff">3</span>    very good
<span style="color:#ae81ff">4</span>    very good
<span style="color:#ae81ff">5</span>     very bad
Name: grade, dtype: category
Categories (<span style="color:#ae81ff">5</span>, object): [very bad, bad, medium, good, very good]
</code></pre></div><p>排序取决于分类的顺序，而不是词法：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">133</span>]: df<span style="color:#f92672">.</span>sort_values(by<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;grade&#34;</span>)
Out[<span style="color:#ae81ff">133</span>]:
   id raw_grade      grade
<span style="color:#ae81ff">5</span>   <span style="color:#ae81ff">6</span>         e   very bad
<span style="color:#ae81ff">1</span>   <span style="color:#ae81ff">2</span>         b       good
<span style="color:#ae81ff">2</span>   <span style="color:#ae81ff">3</span>         b       good
<span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">1</span>         a  very good
<span style="color:#ae81ff">3</span>   <span style="color:#ae81ff">4</span>         a  very good
<span style="color:#ae81ff">4</span>   <span style="color:#ae81ff">5</span>         a  very good
</code></pre></div><p>通过分类进行分组也会显示出没数据的组：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">134</span>]: df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#34;grade&#34;</span>)<span style="color:#f92672">.</span>size()
Out[<span style="color:#ae81ff">134</span>]:
grade
very bad     <span style="color:#ae81ff">1</span>
bad          <span style="color:#ae81ff">0</span>
medium       <span style="color:#ae81ff">0</span>
good         <span style="color:#ae81ff">2</span>
very good    <span style="color:#ae81ff">3</span>
dtype: int64
</code></pre></div><h2 id="plotting">Plotting</h2>
<p>绘图</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">135</span>]: ts <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">1000</span>), index<span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>date_range(<span style="color:#e6db74">&#39;1/1/2000&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">1000</span>))

In [<span style="color:#ae81ff">136</span>]: ts <span style="color:#f92672">=</span> ts<span style="color:#f92672">.</span>cumsum()

In [<span style="color:#ae81ff">137</span>]: ts<span style="color:#f92672">.</span>plot()
Out[<span style="color:#ae81ff">137</span>]: <span style="color:#f92672">&lt;</span>matplotlib<span style="color:#f92672">.</span>axes<span style="color:#f92672">.</span>_subplots<span style="color:#f92672">.</span>AxesSubplot at <span style="color:#ae81ff">0x1122ad630</span><span style="color:#f92672">&gt;</span>
</code></pre></div><p><img src="http://pandas.pydata.org/pandas-docs/stable/_images/series_plot_basic.png" alt="1">
对于<code>DataFrame</code>，<code>plot()</code>函数将所有的列都绘制出来：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">138</span>]: df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">1000</span>, <span style="color:#ae81ff">4</span>), index<span style="color:#f92672">=</span>ts<span style="color:#f92672">.</span>index,
   <span style="color:#f92672">.....</span>:                   columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>, <span style="color:#e6db74">&#39;C&#39;</span>, <span style="color:#e6db74">&#39;D&#39;</span>])
   <span style="color:#f92672">.....</span>:

In [<span style="color:#ae81ff">139</span>]: df <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>cumsum()

In [<span style="color:#ae81ff">140</span>]: plt<span style="color:#f92672">.</span>figure(); df<span style="color:#f92672">.</span>plot(); plt<span style="color:#f92672">.</span>legend(loc<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;best&#39;</span>)
Out[<span style="color:#ae81ff">140</span>]: <span style="color:#f92672">&lt;</span>matplotlib<span style="color:#f92672">.</span>legend<span style="color:#f92672">.</span>Legend at <span style="color:#ae81ff">0x115033cf8</span><span style="color:#f92672">&gt;</span>
</code></pre></div><p><img src="http://pandas.pydata.org/pandas-docs/stable/_images/frame_plot_basic.png" alt="2"></p>
<h2 id="输入输出数据">输入/输出数据</h2>
<h3 id="csv格式">CSV格式</h3>
<p>写入：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">141</span>]: df<span style="color:#f92672">.</span>to_csv(<span style="color:#e6db74">&#39;foo.csv&#39;</span>)
</code></pre></div><p>读取：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">142</span>]: pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;foo.csv&#39;</span>)
Out[<span style="color:#ae81ff">142</span>]:
     Unnamed: <span style="color:#ae81ff">0</span>          A          B         C          D
<span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>   <span style="color:#ae81ff">0.266457</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.399641</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.219582</span>   <span style="color:#ae81ff">1.186860</span>
<span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.170732</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.345873</span>  <span style="color:#ae81ff">1.653061</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.282953</span>
<span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.734933</span>   <span style="color:#ae81ff">0.530468</span>  <span style="color:#ae81ff">2.060811</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.515536</span>
<span style="color:#ae81ff">3</span>    <span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.555121</span>   <span style="color:#ae81ff">1.452620</span>  <span style="color:#ae81ff">0.239859</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.156896</span>
<span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>   <span style="color:#ae81ff">0.578117</span>   <span style="color:#ae81ff">0.511371</span>  <span style="color:#ae81ff">0.103552</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">2.428202</span>
<span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>   <span style="color:#ae81ff">0.478344</span>   <span style="color:#ae81ff">0.449933</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.741620</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.962409</span>
<span style="color:#ae81ff">6</span>    <span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">07</span>   <span style="color:#ae81ff">1.235339</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.091757</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.543861</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.084753</span>
<span style="color:#f92672">..</span>          <span style="color:#f92672">...</span>        <span style="color:#f92672">...</span>        <span style="color:#f92672">...</span>       <span style="color:#f92672">...</span>        <span style="color:#f92672">...</span>
<span style="color:#ae81ff">993</span>  <span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">20</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10.628548</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.153563</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">7.883146</span>  <span style="color:#ae81ff">28.313940</span>
<span style="color:#ae81ff">994</span>  <span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">21</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10.390377</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">8.727491</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">6.399645</span>  <span style="color:#ae81ff">30.914107</span>
<span style="color:#ae81ff">995</span>  <span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">22</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">8.985362</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">8.485624</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.669462</span>  <span style="color:#ae81ff">31.367740</span>
<span style="color:#ae81ff">996</span>  <span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">23</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.558560</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">8.781216</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.499815</span>  <span style="color:#ae81ff">30.518439</span>
<span style="color:#ae81ff">997</span>  <span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">24</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.902058</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.340490</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.386639</span>  <span style="color:#ae81ff">30.105593</span>
<span style="color:#ae81ff">998</span>  <span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">25</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10.216020</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.480682</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">3.933802</span>  <span style="color:#ae81ff">29.758560</span>
<span style="color:#ae81ff">999</span>  <span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">26</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">11.856774</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10.671012</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">3.216025</span>  <span style="color:#ae81ff">29.369368</span>

[<span style="color:#ae81ff">1000</span> rows x <span style="color:#ae81ff">5</span> columns]
</code></pre></div><h3 id="hdf5格式">HDF5格式</h3>
<p>写入：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">143</span>]: df<span style="color:#f92672">.</span>to_hdf(<span style="color:#e6db74">&#39;foo.h5&#39;</span>,<span style="color:#e6db74">&#39;df&#39;</span>)
</code></pre></div><p>读取：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">144</span>]: pd<span style="color:#f92672">.</span>read_hdf(<span style="color:#e6db74">&#39;foo.h5&#39;</span>,<span style="color:#e6db74">&#39;df&#39;</span>)
Out[<span style="color:#ae81ff">144</span>]:
                    A          B         C          D
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>   <span style="color:#ae81ff">0.266457</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.399641</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.219582</span>   <span style="color:#ae81ff">1.186860</span>
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.170732</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.345873</span>  <span style="color:#ae81ff">1.653061</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.282953</span>
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.734933</span>   <span style="color:#ae81ff">0.530468</span>  <span style="color:#ae81ff">2.060811</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.515536</span>
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.555121</span>   <span style="color:#ae81ff">1.452620</span>  <span style="color:#ae81ff">0.239859</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.156896</span>
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>   <span style="color:#ae81ff">0.578117</span>   <span style="color:#ae81ff">0.511371</span>  <span style="color:#ae81ff">0.103552</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">2.428202</span>
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>   <span style="color:#ae81ff">0.478344</span>   <span style="color:#ae81ff">0.449933</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.741620</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.962409</span>
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">07</span>   <span style="color:#ae81ff">1.235339</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.091757</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.543861</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.084753</span>
<span style="color:#f92672">...</span>               <span style="color:#f92672">...</span>        <span style="color:#f92672">...</span>       <span style="color:#f92672">...</span>        <span style="color:#f92672">...</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">20</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10.628548</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.153563</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">7.883146</span>  <span style="color:#ae81ff">28.313940</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">21</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10.390377</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">8.727491</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">6.399645</span>  <span style="color:#ae81ff">30.914107</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">22</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">8.985362</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">8.485624</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.669462</span>  <span style="color:#ae81ff">31.367740</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">23</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.558560</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">8.781216</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.499815</span>  <span style="color:#ae81ff">30.518439</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">24</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.902058</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.340490</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.386639</span>  <span style="color:#ae81ff">30.105593</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">25</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10.216020</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.480682</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">3.933802</span>  <span style="color:#ae81ff">29.758560</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">26</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">11.856774</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10.671012</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">3.216025</span>  <span style="color:#ae81ff">29.369368</span>

[<span style="color:#ae81ff">1000</span> rows x <span style="color:#ae81ff">4</span> columns]
</code></pre></div><h3 id="excel格式">EXCEL格式</h3>
<p>写入：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">145</span>]: df<span style="color:#f92672">.</span>to_excel(<span style="color:#e6db74">&#39;foo.xlsx&#39;</span>, sheet_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Sheet1&#39;</span>)
</code></pre></div><p>读取：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py">In [<span style="color:#ae81ff">146</span>]: pd<span style="color:#f92672">.</span>read_excel(<span style="color:#e6db74">&#39;foo.xlsx&#39;</span>, <span style="color:#e6db74">&#39;Sheet1&#39;</span>, index_col<span style="color:#f92672">=</span>None, na_values<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;NA&#39;</span>])
Out[<span style="color:#ae81ff">146</span>]:
                    A          B         C          D
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span>   <span style="color:#ae81ff">0.266457</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.399641</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.219582</span>   <span style="color:#ae81ff">1.186860</span>
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">02</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.170732</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.345873</span>  <span style="color:#ae81ff">1.653061</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.282953</span>
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">03</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.734933</span>   <span style="color:#ae81ff">0.530468</span>  <span style="color:#ae81ff">2.060811</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.515536</span>
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">04</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.555121</span>   <span style="color:#ae81ff">1.452620</span>  <span style="color:#ae81ff">0.239859</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.156896</span>
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">05</span>   <span style="color:#ae81ff">0.578117</span>   <span style="color:#ae81ff">0.511371</span>  <span style="color:#ae81ff">0.103552</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">2.428202</span>
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">06</span>   <span style="color:#ae81ff">0.478344</span>   <span style="color:#ae81ff">0.449933</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">0.741620</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.962409</span>
<span style="color:#ae81ff">2000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">01</span><span style="color:#f92672">-</span><span style="color:#ae81ff">07</span>   <span style="color:#ae81ff">1.235339</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">0.091757</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1.543861</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">1.084753</span>
<span style="color:#f92672">...</span>               <span style="color:#f92672">...</span>        <span style="color:#f92672">...</span>       <span style="color:#f92672">...</span>        <span style="color:#f92672">...</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">20</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10.628548</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.153563</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">7.883146</span>  <span style="color:#ae81ff">28.313940</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">21</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10.390377</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">8.727491</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">6.399645</span>  <span style="color:#ae81ff">30.914107</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">22</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">8.985362</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">8.485624</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.669462</span>  <span style="color:#ae81ff">31.367740</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">23</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.558560</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">8.781216</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.499815</span>  <span style="color:#ae81ff">30.518439</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">24</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.902058</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.340490</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">4.386639</span>  <span style="color:#ae81ff">30.105593</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">25</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10.216020</span>  <span style="color:#f92672">-</span><span style="color:#ae81ff">9.480682</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">3.933802</span>  <span style="color:#ae81ff">29.758560</span>
<span style="color:#ae81ff">2002</span><span style="color:#f92672">-</span><span style="color:#ae81ff">09</span><span style="color:#f92672">-</span><span style="color:#ae81ff">26</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">11.856774</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">10.671012</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">3.216025</span>  <span style="color:#ae81ff">29.369368</span>

[<span style="color:#ae81ff">1000</span> rows x <span style="color:#ae81ff">4</span> columns]
</code></pre></div><h3 id="陷阱">陷阱</h3>
<p>如果在操作是报错：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-py" data-lang="py"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">if</span> pd<span style="color:#f92672">.</span>Series([False, True, False]):
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;I was true&#34;</span>)
Traceback
    <span style="color:#f92672">...</span>
<span style="color:#a6e22e">ValueError</span>: The truth value of an array <span style="color:#f92672">is</span> ambiguous<span style="color:#f92672">.</span> Use a<span style="color:#f92672">.</span>empty, a<span style="color:#f92672">.</span>any() <span style="color:#f92672">or</span> a<span style="color:#f92672">.</span>all()<span style="color:#f92672">.</span>
</code></pre></div><p>请查看 Comparisons 或者 Gotchas 相关信息。</p>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/python/" rel="tag">python</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<figure class="authorbox__avatar">
		<img alt="Roy avatar" src="/images/my.jpg" class="avatar" height="90" width="90">
	</figure>
	<div class="authorbox__header">
		<span class="authorbox__name">About Roy</span>
	</div>
	<div class="authorbox__description">
		野生程序猿，略懂Python，略懂Golang，略懂云计算，略懂大数据，略懂拳击游泳钓鱼，略懂钢琴吉他摄影。
	</div>
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/%E5%86%B3%E7%AD%96%E6%A0%91/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">决策树</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/%E5%9F%BA%E4%BA%8E%E8%99%9A%E6%8B%9F%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9A%84%E7%BD%91%E9%A1%B5%E5%88%86%E5%89%B2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">基于虚拟可视化的网页分割</p>
		</a>
	</div>
</nav>

<section class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "www-hi-roy-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
<div class="footer__links">
	<a class="footer__link" href="/about/">About</a>
</div>
		<div class="footer__copyright">
			&copy; 2024 Roy.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>