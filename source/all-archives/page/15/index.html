<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Hi!Roy!"><title>归档 - Hi!Roy!</title><meta name="author" content="Roy"><link rel="icon" href="http://www.hi-roy.com/assets/images/favicon.ico"><link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml"><meta property="og:type" content="blog"><meta property="og:title" content="Hi!Roy!"><meta property="og:url" content="http://www.hi-roy.com/source/all-archives/page/15/index.html"><meta property="og:site_name" content="Hi!Roy!"><meta property="og:locale" content="zh-cn"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Hi!Roy!"><meta property="og:image" content="http://www.hi-roy.com/assets/images/my.jpg"><link rel="stylesheet" href="/assets/css/style-sxklfps8ywgfyyjcowvnb4gxdgt0zjts3hsguljmv9uqanxjbnitrovtbrek.min.css"><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?21513ec2bcd577b3297a1b16da82fa40";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body><div id="blog"><header id="header" data-behavior="1"><i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i><div class="header-title"><a class="header-title-link" href="/">Hi!Roy!</a></div><a class="header-right-icon" href="#about"><i class="fa fa-lg fa-question"></i></a></header><nav id="sidebar" data-behavior="1"><div class="sidebar-container"><div class="sidebar-profile"><a href="/#about"><img class="sidebar-profile-picture" src="/assets/images/my.jpg" alt="作者的图片"></a><h4 class="sidebar-profile-name">Roy</h4><h5 class="sidebar-profile-bio"><p>君以国士待我，我必以国士报君。</p></h5></div><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/"><i class="sidebar-button-icon fa fa-lg fa-home"></i> <span class="sidebar-button-desc">首页</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-categories"><i class="sidebar-button-icon fa fa-lg fa-bookmark"></i> <span class="sidebar-button-desc">分类</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-tags"><i class="sidebar-button-icon fa fa-lg fa-tags"></i> <span class="sidebar-button-desc">标签</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-archives"><i class="sidebar-button-icon fa fa-lg fa-archive"></i> <span class="sidebar-button-desc">归档</span></a></li><li class="sidebar-button"><a class="sidebar-button-link open-algolia-search" href="#search"><i class="sidebar-button-icon fa fa-lg fa-search"></i> <span class="sidebar-button-desc">搜索</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="#about"><i class="sidebar-button-icon fa fa-lg fa-question"></i> <span class="sidebar-button-desc">关于</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="https://github.com/shenyushun" target="_blank" rel="noopener"><i class="sidebar-button-icon fa fa-lg fa-github"></i> <span class="sidebar-button-desc">GitHub</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="mailto:darkcooking@gmail.com" target="_blank" rel="noopener"><i class="sidebar-button-icon fa fa-lg fa-envelope-o"></i> <span class="sidebar-button-desc">邮箱</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/atom.xml"><i class="sidebar-button-icon fa fa-lg fa-rss"></i> <span class="sidebar-button-desc">RSS</span></a></li></ul></div></nav><div id="main" data-behavior="1" class="hasCoverMetaIn"><section class="postShorten-group main-content-wrap"><article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemtype="http://schema.org/BlogPosting"><div class="postShorten-wrap"><div class="postShorten-header"><h1 class="postShorten-title" itemprop="headline"><a class="link-unstyled" href="/2014/09/26/tightvnc远程访问kali桌面系统/">tightvnc远程访问kali桌面系统</a></h1><div class="postShorten-meta"><time itemprop="datePublished" datetime="2014-09-26T18:23:36+08:00">9月 26, 2014 </time><span>发布在 </span><a class="category-link" href="/source/all-categories/Kali/">Kali</a></div></div><div class="postShorten-content" itemprop="articleBody"><p>安装完kali系统后应该已经默认安装了这个程序，如果没有的话使用<code>apt-get install tightvncserver</code></p><p>安装完成后执行<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tightvncserver -depth 24 -geometry 1440x900 :1</span><br></pre></td></tr></table></figure><p></p><p>-depth 24 使用24位颜色，这里一般用16或者24</p><p>-geometry 桌面分辨率,根据要求调整，数字之间是英文字母x而不是乘号。</p><p>:1 会话代号<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">New &apos;X&apos; desktop is xsy:1</span><br><span class="line">Starting applications specified in /root/.vnc/xstartup</span><br><span class="line">Log file is /root/.vnc/xsy:1.log</span><br></pre></td></tr></table></figure><p></p><p>如果是第一次执行的话会提示输入密码。</p><p>客户端我使用freora20自带的remote desktop viwer ，windows下有vnc viewer。</p><p>链接方式使用VNC，HOST填写ip:上面建立的桌面会话代号，比如：127.0.0.1：1即可。</p><p>然后点击链接即可。</p><p>停止某个桌面活动：<code>tightvncserver -kill :1</code></p><p>重置密码使用<code>tightvncpasswd</code></p><p>小提示：F11是全屏/非全屏切换。</p><p><a href="/2014/09/26/tightvnc远程访问kali桌面系统/#post-footer" class="postShorten-excerpt_link link">评论和分享</a></p></div></div></article><article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemtype="http://schema.org/BlogPosting"><div class="postShorten-wrap"><div class="postShorten-header"><h1 class="postShorten-title" itemprop="headline"><a class="link-unstyled" href="/2014/09/11/python中and-or小技巧/">python中and-or小技巧</a></h1><div class="postShorten-meta"><time itemprop="datePublished" datetime="2014-09-11T16:22:43+08:00">9月 11, 2014 </time><span>发布在 </span><a class="category-link" href="/source/all-categories/Python/">Python</a></div></div><div class="postShorten-content" itemprop="articleBody"><p>首先，python中逻辑运算从左到右进行，and运算返回第一个假值，若都为真则返回最后一个真值。or运算返回第一个真值，若都为假则返回最后一个假值。</p><p>其次，python中0,(),[],{},None,空字符串都是假。</p><p>下面用简单的例子说明一下：<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">"in f"</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">t</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">"in t"</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">n</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">"in n"</span></span><br><span class="line">In [<span class="number">105</span>]: r = t() <span class="keyword">and</span> f() <span class="keyword">or</span> n()</span><br><span class="line"><span class="keyword">in</span> t</span><br><span class="line"><span class="keyword">in</span> f</span><br><span class="line"><span class="keyword">in</span> n</span><br><span class="line">In [<span class="number">106</span>]: r</span><br><span class="line">In [<span class="number">107</span>]: r = t() <span class="keyword">and</span> n() <span class="keyword">or</span> f()</span><br><span class="line"><span class="keyword">in</span> t</span><br><span class="line"><span class="keyword">in</span> n</span><br><span class="line"><span class="keyword">in</span> f</span><br><span class="line">In [<span class="number">108</span>]: r</span><br><span class="line">Out[<span class="number">108</span>]: <span class="literal">False</span></span><br><span class="line">In [<span class="number">111</span>]: r = f() <span class="keyword">and</span> n() <span class="keyword">or</span> t()</span><br><span class="line"><span class="keyword">in</span> f</span><br><span class="line"><span class="keyword">in</span> t</span><br><span class="line">In [<span class="number">112</span>]: r</span><br><span class="line">Out[<span class="number">112</span>]: <span class="literal">True</span></span><br></pre></td></tr></table></figure><p></p><p>上面我们定义了3个函数，没返回值的情况下函数会默认返回None。这里有个地方需要注意，虽然函数可以返回true、false、none，但函数本身都是为真的，比如：<br></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">127</span>]: rr = f <span class="keyword">and</span> t <span class="keyword">or</span> n</span><br><span class="line">In [<span class="number">128</span>]: rr</span><br><span class="line">Out[<span class="number">128</span>]: &lt;function __main__.t=<span class="string">""</span>&gt;</span><br><span class="line">In [<span class="number">129</span>]: rr = f <span class="keyword">and</span> n <span class="keyword">or</span> t</span><br><span class="line">In [<span class="number">130</span>]: rr</span><br><span class="line">Out[<span class="number">130</span>]: &lt;function __main__.n=<span class="string">""</span>&gt;</span><br><span class="line">&lt;/function&gt;&lt;/function&gt;</span><br></pre></td></tr></table></figure><p></p><p>再举个《python简明教程》的例子：<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">processFunc = collapse <span class="keyword">and</span> (<span class="keyword">lambda</span> s: <span class="string">" "</span>.join(s.split())) <span class="keyword">or</span> (<span class="keyword">lambda</span> s: s)</span><br></pre></td></tr></table></figure><p></p><p>processFunc 现在是一个函数，但是它到底是哪一个函数还要取决于 collapse 变量。如果 collapse 为真，processFunc(string) 将压缩空白；否则 processFunc(string) 将返回未改变的参数。</p><p>假设我们有一个对象，我们需要先判断这个对象是否存在，如果存在的话则取它的id，就可以这么写:<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pid = user <span class="keyword">and</span> user.id <span class="keyword">or</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure><p></p><p><a href="/2014/09/11/python中and-or小技巧/#post-footer" class="postShorten-excerpt_link link">评论和分享</a></p></div></div></article><article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemtype="http://schema.org/BlogPosting"><div class="postShorten-wrap"><div class="postShorten-header"><h1 class="postShorten-title" itemprop="headline"><a class="link-unstyled" href="/2014/08/22/centos下部署openerp7/">centos下部署openerp7</a></h1><div class="postShorten-meta"><time itemprop="datePublished" datetime="2014-08-22T11:26:53+08:00">8月 22, 2014 </time><span>发布在 </span><a class="category-link" href="/source/all-categories/Centos/">Centos</a></div></div><div class="postShorten-content" itemprop="articleBody"><p>首先需要注意的是openerp7需要python2.7+版本，而centos6下默认是python2.6，这里我使用centos7。</p><p>首先安装postgresql<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install http://yum.postgresql.org/9.3/redhat/rhel-6-x86_64/pgdg-redhat93-9.3-1.noarch.rpm</span><br><span class="line">yum install postgresql93-server postgresql93-contrib postgresql93-devel</span><br></pre></td></tr></table></figure><p></p><p>centos7中安装psql后初始化数据库和6不同，需要切换到postgres用户进入安装目录的bin文件夹执行手动初始化<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]# su postgres</span><br><span class="line">bash-4.2$ ./initdb -D /var/lib/pgsql/9.3/data/</span><br></pre></td></tr></table></figure><p></p><p>初始化完毕后启动服务以及设置开机启动<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]# chkconfig postgresql-9.3 on</span><br><span class="line">Note: Forwarding request to &apos;systemctl enable postgresql-9.3.service&apos;.</span><br><span class="line">ln -s &apos;/usr/lib/systemd/system/postgresql-9.3.service&apos; &apos;/etc/systemd/system/multi-user.target.wants/postgresql-9.3.service&apos;</span><br><span class="line">[root@localhost bin]# systemctl enable postgresql-9.3.service</span><br><span class="line">[root@localhost bin]# service postgresql-9.3 start</span><br><span class="line">Redirecting to /bin/systemctl start  postgresql-9.3.service</span><br></pre></td></tr></table></figure><p></p><p>可以看到，即使使用centos6的命令也会变成centos7的systemctl命令。</p><p>创建openerp用户以及数据库用户<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost bin]#useradd openerp</span><br><span class="line">[root@localhost bin]#psql -U postgres postgres</span><br><span class="line">postgres=# CREATE ROLE openerp WITH SUPERUSER LOGIN PASSWORD &apos;asdasd&apos;;</span><br></pre></td></tr></table></figure><p></p><p>创建链接（重要）<br><code>ln -s /usr/pgsql-9.3/bin/pg_config /usr/bin/pg_config</code><br>安装可能缺失的开发包<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install openldap-devel libxslt-devel libxml2-devel</span><br></pre></td></tr></table></figure><p></p><p>接下来自己安装几个所需的python包，因为下面这几个使用openerp自动安装很慢<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Babel==1.3 #</span><br><span class="line">feedparser==5.1.3  #</span><br><span class="line">gdata==2.0.18 #</span><br><span class="line">lxml==3.3.5#</span><br><span class="line">PIL==1.1.7 #这个用easy_install</span><br><span class="line">PyWebDAV==0.9.4.1#这个用easy_install</span><br></pre></td></tr></table></figure><p></p><p>准备工作完成后开始安装openerp<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget http://nightly.openerp.com/7.0/nightly/src/openerp-7.0-latest.tar.gz</span><br><span class="line">tar xvf openerp-7.0-latest.tar.gz</span><br><span class="line"><span class="built_in">cd</span> openerp</span><br><span class="line">python setup.py install</span><br></pre></td></tr></table></figure><p></p><p>如果安装过程中有什么三方依赖安装失败就用pip或者easy_install安装。<br>接下来配置<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ln -s /root/openerp/openerp-server /usr/<span class="built_in">local</span>/bin/openerp-server</span><br><span class="line">cp install/openerp-server.init /etc/init.d/openerp</span><br><span class="line">cp install/openerp-server.conf /etc   （数据库配置信息）</span><br><span class="line">chown openerp:openerp /etc/openerp-server.conf</span><br><span class="line">chmod u+x /etc/init.d/openerp</span><br><span class="line">chkconfig openerp on   (systemctl <span class="built_in">enable</span> openerp.service)</span><br><span class="line">mkdir /var/run/openerp</span><br><span class="line">mkdir /var/<span class="built_in">log</span>/openerp</span><br><span class="line">chown openerp:openerp /var/run/openerp</span><br><span class="line">chown openerp:openerp /var/<span class="built_in">log</span>/openerp</span><br><span class="line">service openerp  on    (systemctl start openerp.service)</span><br><span class="line">systemctl stop firewalld.service(7需要关闭防火墙)</span><br></pre></td></tr></table></figure><p></p><p>然后浏览器访问8069创建数据库等操作就可以了。</p><p><a href="/2014/08/22/centos下部署openerp7/#post-footer" class="postShorten-excerpt_link link">评论和分享</a></p></div></div></article><article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemtype="http://schema.org/BlogPosting"><div class="postShorten-wrap"><div class="postShorten-header"><h1 class="postShorten-title" itemprop="headline"><a class="link-unstyled" href="/2014/08/07/postgresql学习记录3/">postgresql学习记录3</a></h1><div class="postShorten-meta"><time itemprop="datePublished" datetime="2014-08-07T12:32:57+08:00">8月 07, 2014 </time><span>发布在 </span><a class="category-link" href="/source/all-categories/数据库/">数据库</a></div></div><div class="postShorten-content" itemprop="articleBody"><p>某些情况下需要向数据库中插入媒体文件，mysql中插入媒体文件时，数据字段应该是blob。而对于postgresql，则是bytea。这里注意的是打开文件时候应该用”rb wb”这种模式，示例如下：<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> psycopg2</span><br><span class="line"><span class="comment">#省略部分代码...</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ins_pictures</span><span class="params">(self, name, position, explain, href, uploaddate, img, show_id)</span>:</span></span><br><span class="line">        <span class="string">'''向pictures表中插入数据(显示位置，说明，上传时间，图片的2进制)</span></span><br><span class="line"><span class="string">        '''</span></span><br><span class="line">    strs = <span class="string">r"insert into pictures(p_name,p_position,p_explain,p_href,p_uploaddate,p_show,p_img,show_id) values (%(name)s,%(position)s,%(explain)s,%(href)s,%(uploaddate)s,'0',%(img)s,%(show_id)s)"</span></span><br><span class="line">    self.curs.execute(strs, &#123;<span class="string">'name'</span>: name,</span><br><span class="line">                             <span class="string">'position'</span>: position,</span><br><span class="line">                             <span class="string">'explain'</span>: explain,</span><br><span class="line">                             <span class="string">'href'</span>: href,</span><br><span class="line">                             <span class="string">'uploaddate'</span>: uploaddate,</span><br><span class="line">                             <span class="string">'img'</span>: psycopg2.Binary(img),</span><br><span class="line">                             <span class="string">'show_id'</span>: show_id,</span><br><span class="line">                            &#125;)</span><br><span class="line">    self.conn.commit()</span><br></pre></td></tr></table></figure><p></p><p>这里需要注意使用Binary进行转换后才能成功插入到数据库中。</p><p><a href="/2014/08/07/postgresql学习记录3/#post-footer" class="postShorten-excerpt_link link">评论和分享</a></p></div></div></article><article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemtype="http://schema.org/BlogPosting"><div class="postShorten-wrap"><div class="postShorten-header"><h1 class="postShorten-title" itemprop="headline"><a class="link-unstyled" href="/2014/08/06/postgresql学习记录2/">postgresql学习记录2</a></h1><div class="postShorten-meta"><time itemprop="datePublished" datetime="2014-08-06T09:24:22+08:00">8月 06, 2014 </time><span>发布在 </span><a class="category-link" href="/source/all-categories/数据库/">数据库</a></div></div><div class="postShorten-content" itemprop="articleBody"><p>想把mysql数据迁移到postgresql，推荐使用py-mysql2pgsql，使用pip安装即可。</p><p>安装完毕后执行py-mysql2pgsql后会在当前目录生成一个yaml文件，根据实际情况修改，例如：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"># if a socket is specified we will use that</span><br><span class="line"># if tcp is chosen you can use compression</span><br><span class="line">mysql:</span><br><span class="line"> hostname: localhost</span><br><span class="line"> port: 3306</span><br><span class="line"> socket: /var/lib/mysql/mysql.sock  #这里用find命令查找</span><br><span class="line"> username: testuser</span><br><span class="line"> password: &apos;123456&apos;  #记得引号</span><br><span class="line"> database: testdb</span><br><span class="line"> compress: false</span><br><span class="line">destination:</span><br><span class="line"> # if file is given, output goes to file, else postgres</span><br><span class="line"> file:</span><br><span class="line"> postgres:</span><br><span class="line">  hostname: localhost</span><br><span class="line">  port: 5432</span><br><span class="line">  username: mytest</span><br><span class="line">  password: &apos;123456&apos;</span><br><span class="line">  database: mytest</span><br><span class="line"># if tables is given, only the listed tables will be converted.  leave empty to convert all tables.</span><br><span class="line">#only_tables:</span><br><span class="line">#- table1</span><br><span class="line">#- table2</span><br><span class="line"># if exclude_tables is given, exclude the listed tables from the conversion.</span><br><span class="line">#exclude_tables:</span><br><span class="line">#- table3</span><br><span class="line">#- table4</span><br><span class="line"># if supress_data is true, only the schema definition will be exported/migrated, and not the data</span><br><span class="line">supress_data: false</span><br><span class="line"># if supress_ddl is true, only the data will be exported/imported, and not the schema</span><br><span class="line">supress_ddl: false</span><br><span class="line"># if force_truncate is true, forces a table truncate before table loading</span><br><span class="line">force_truncate: false</span><br></pre></td></tr></table></figure><p></p><p>至于下面的只迁移某些表、不迁移某些表、只要结构、只要数据等根据自己需要修改。</p><p>修改完毕后保存，再执行py-mysql2pgsql -v 开始自动迁移。</p><p><a href="/2014/08/06/postgresql学习记录2/#post-footer" class="postShorten-excerpt_link link">评论和分享</a></p></div></div></article><article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemtype="http://schema.org/BlogPosting"><div class="postShorten-wrap"><div class="postShorten-header"><h1 class="postShorten-title" itemprop="headline"><a class="link-unstyled" href="/2014/08/06/postgresql学习记录1/">postgresql学习记录1</a></h1><div class="postShorten-meta"><time itemprop="datePublished" datetime="2014-08-06T09:14:31+08:00">8月 06, 2014 </time><span>发布在 </span><a class="category-link" href="/source/all-categories/数据库/">数据库</a></div></div><div class="postShorten-content" itemprop="articleBody"><p>数据库9.3.5，系统fedora20,不同系统操作略有不同。</p><p>使用yum 命令安装即可：<code>sudo yum install postgresql,postgresql-server</code></p><p>安装完毕后系统中会创建一个postgres的用户，切换到这个用户后进行数据库的初始化：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">initdb --encoding=UTF-8 --no-locale -D /var/lib/pgsql/data/</span><br></pre></td></tr></table></figure><p></p><p>或者使用postgresql-setup initdb 命令。</p><p>紧接着启动服务：<code>pg_ctl -D /var/lib/pgsql/data start</code></p><p>为了方便下面的操作，我重置了postgres用户的密码：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd -d postgres</span><br><span class="line">sudo -u postgres passwd</span><br></pre></td></tr></table></figure><p></p><p>再把postgres用户赋予执行sudo的权限，设置开机自启动：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start postgresql.service</span><br><span class="line">systemctl enable postgresql.service</span><br></pre></td></tr></table></figure><p></p><p>这时使用psql命令就可以进入数据库终端了。</p><p>进入数据库终端之前我们先建立一个数据库：<code>createdb mytest</code></p><p>不过每次想查看数据库都需要切换用户比较麻烦，所以再建立一个和平时使用的账户同名的角色：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE ROLE myuser WITH SUPERUSER LOGIN PASSWORD &apos;123456&apos;;</span><br></pre></td></tr></table></figure><p></p><p>这里我为了省事直接把这个用户设置为超级用户，其他细节看官方文档即可。</p><p>然后切换回平时使用的账户进行链接即可：<code>psql -h localhost -U myuser mytest</code> (注意大U)</p><p>如果上面创建角色时是超级用户或者有相应的权限，也可以直接执行createdb命令创建数据库。</p><p>两个用到的配置文件位置：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_/var/lib/pgsql/data/postgresql.conf_   端口及IP配置</span><br><span class="line">_/var/lib/pgsql/data/pg_hba.conf_   权限配置</span><br></pre></td></tr></table></figure><p></p><p>这样初期准备工作就做好了。</p><p><a href="/2014/08/06/postgresql学习记录1/#post-footer" class="postShorten-excerpt_link link">评论和分享</a></p></div></div></article><article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemtype="http://schema.org/BlogPosting"><div class="postShorten-wrap"><div class="postShorten-header"><h1 class="postShorten-title" itemprop="headline"><a class="link-unstyled" href="/2014/07/09/枯萎的花（转）/">枯萎的花（转）</a></h1><div class="postShorten-meta"><time itemprop="datePublished" datetime="2014-07-09T01:05:23+08:00">7月 09, 2014 </time><span>发布在 </span><a class="category-link" href="/source/all-categories/恐怖故事/">恐怖故事</a></div></div><div class="postShorten-content" itemprop="articleBody"><p>碎碎第一次睁开眼时，一只小花蝴蝶正受惊般地从她眼前飞过，耳畔传来姐姐们欣喜的叫喊声:”妹妹醒啦，妹妹醒啦!”</p><p>碎碎茫然地看了看四周，初生的太阳放射出明亮的光芒，照耀在姐姐们娇艳的笑靥上，她们围在碎碎身边，欢喜地迎接妹妹的到来。这里到处是山，古藤绝壁，山涧幽鸣，石壁上有一座小而庄严的寺庙，庙前的小径蜿然伸向远方。</p><p>从那时起，碎碎来到了这个世界，开始了她的生活，每天在寺庙的钟声在醒过来，和姐妹们一同歌唱，同过路的蝴蝶翩翩起舞，夜晚就静静仰望着星空，在一片木鱼诵佛声中沉沉睡去。日子过得快乐而单调。</p><p>直到有一天，清晨的薄雾还没有消散。”的嗒”的马蹄声踏破了山间的寂静，惊醒了沉睡中的碎碎。她睁大眼睛，看到薄雾中出现了一个骑马的男子。他是个二十来岁的年轻人，穿着沾满灰尘的衣裳，有一双和气的大眼睛。他似乎赶了很久的路，又渴又饿，脸色苍白而憔悴。</p><p>他抬头看到绝壁下的古寺，惊喜在他的眼眸里闪过，就如漂浮在汪洋里的落水者看到了救命的木板，男子向寺庙驰去。可他毕竟太衰弱了，所以没等他摇摇晃晃地走上去叩响寺门，连日来的奔波，疲乏，病痛就把他击倒在了寺前的台阶上。</p><p>碎碎一动不动地注视着那个卧倒在地上的陌生人，直到天边露出朝霞，早起的僧人惊讶地发现了那个奄奄一息的旅人并把他扶了进去。接连几天，姐妹们都发现碎碎心事重重，落落寡欢。她们在她的身边纵情歌唱，可碎碎的目光却一直投向寺庙的方向。</p><p>终于有一天，碎碎又看到了那个年轻人。她全身一震，兴奋传遍了全身。男子的脸色依然苍白，可只要仔细看，你就会发现他的两颊已经隐隐透出了红润。男子站在寺门前，他看了看这边，眼睛一亮，就笔直地走了过来。他站在树下，深深地吸了一口香气:”好美的桃花!”他甚至还用手指碰了碰碎碎。碎碎羞涩地低下头去，脸儿都有红了。</p><p>碎碎默默地注视着男子的背影。她猛然便爱上了他。我在佛祖前求了五百年，才在他要经过的路上，伸展出最美丽的姿态，绽放出最妩媚的容颜。他，正是我这辈子要等待的人。</p><p>男子每天都会来树下站一会，黑蓝黑蓝的眼睛久久凝视着美丽的桃花，透露出无限的深情。他的身体一天天康复着，当青春和活力重新注入他的身体后，大家都发现原来他是一个十分好看的人。</p><p>那个夜晚，男子窗前的烛光久久未熄。分别的时刻到来了。碎碎做出了艰难的决择:她要跟着那个人走。忧心仲仲的姐妹们纷纷劝阻她:”离了枝头，你就活不了了。”</p><p>“他是个人，你和他是没有结果的。”</p><p>碎碎坚定地沉默着。那一夜，繁星满天，在初夏的深山里，在一座百年的古刹前，一株开得灼灼其华的桃花，为她们即将远去姐妹的命运担忧着，一夜未眠。</p><p>当第一缕阳光照在峰头，寺门”吱呀”一声开了。牵着马的男子拱手做别了寺里的僧人，策马驰去。当他经过桃树时，碎碎用力一挣，脱离了枝头，在姐妹们悲伤的呼喊和叹息声中，一头扑进了男子的怀里，多么温暖!多么幸福!碎碎的眼睛湿润了。而身后，熟悉的姐妹们远了，远了。</p><p>男子在傍晚打尖的时候，发现了他衣襟上那朵白里透红的桃花，他惊讶地把她拈起来，托在掌心里仔细端详，他是那么专注，掩饰不了眼底的一抹深情。然后他拿出一个香袋，小心翼翼是把碎碎放了进去</p><p>他们一块打马越过山峰，穿过树林，涉过湍急的河水，路过热闹的集市，最后男子停在了一扇大门前。</p><p>他跳下马，匆匆地跨过台阶，匆匆地走过厅堂和回廊。在美丽的后花园里，碎碎看到好多的桃花。在桃树下有一个红衣绿裙的姑娘。她忧郁地坐在鱼池旁，对恋人的日夜思念使她变得沉默，消瘦，憔悴不堪，但这一切丝毫不能掩盖住她的国色天香。听到脚步声，姑娘抬起头，顿时，她脸上的忧郁一扫而光，喜悦的光辉布满她的脸庞，她的眼睛熠熠发亮。他们彼此久久凝视着。</p><p>最后，姑娘打破了沉寂，她看到男子腰间的香袋，好奇地问恋人:”那是什么?”男子摘下香袋:”真是奇怪，我赶了七天的路，可这朵桃花却一直没有凋谢，仍如刚摘下来的一样。”但他们很快就不再去想它了，久别的这对恋人沉醉在重逢的喜悦里。他们手拉着手，漫步在花丛中，亲热地说着悄悄话儿……</p><p>很久以后，一天夜里，男子做了一个奇怪的梦。在梦里，他闯入了一片桃花林。花瓣飞舞，落英缤纷，一林盛开的桃花宛如天边粉红的云彩。花丛中有一个穿着粉红罗裙的少女向他微笑。男子惊奇地问她:”你是谁?”少女露齿一笑:”我是碎碎呀，”然后就隐去了。</p><p>男子醒过来，找来差不多遗忘的香袋一看，里面的那朵桃花早就枯萎了。</p><p><a href="/2014/07/09/枯萎的花（转）/#post-footer" class="postShorten-excerpt_link link">评论和分享</a></p></div></div></article><article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemtype="http://schema.org/BlogPosting"><div class="postShorten-wrap"><div class="postShorten-header"><h1 class="postShorten-title" itemprop="headline"><a class="link-unstyled" href="/2014/07/09/花鬼（转）/">花鬼（转）</a></h1><div class="postShorten-meta"><time itemprop="datePublished" datetime="2014-07-09T01:01:15+08:00">7月 09, 2014 </time><span>发布在 </span><a class="category-link" href="/source/all-categories/恐怖故事/">恐怖故事</a></div></div><div class="postShorten-content" itemprop="articleBody"><p>阴风阵阵 雨萋萋 夜色的深处某个不知名的角落里 或许正卷曲着一个 冤屈的灵魂 世界上真的有鬼吗 或许鬼只是人潜意识里某种无法自我的思维 也或许是一种科学还难以解释的现象</p><p>我还是很小的时候 听妈妈说我是个很爱哭爱闹的小调皮 特别到晚上总是爱哭 所以每天晚上妈妈总是唱歌谣 或讲故事给我听 很多都是些鬼故事 我想也许是因为比较恐怖吧所以 到现在有些还有很深的印象</p><p>以前我的姥姥（外婆）家是个不知名的小地方 而且那里是个叫偏僻的地方 所以一年到头那里也不会有什么外来人口 更别说什么游客了 只是偶尔会有张家的远方表亲来了 李家的远方XX来了 赵家的远方XX 来了 每年春天或快春节的时候小村子里会热闹些 不是谁家的姑娘出嫁 就是谁家的小子娶媳妇 要不就是 谁家的老人过世</p><p>又是一年的春天到了 不过这个春天来的有点晚因为是润月 所以都快四月了还是不大暖和 一大早还只有 七 八 岁的 妈妈起的很早 刚要吃早饭的妈妈 缠着我的外婆说 今天吃什么呀 姥姥说随便吃点吧 一会我要出去下 我门隔壁家的 张奶奶老了（死了） 妈妈说真的啊 不是前几天还好好的吗 是怎么死的呀 姥姥看看妈妈 说小孩子家不要打听那么多 妈妈很是不高兴的撇撇嘴走开了 过了后天妈妈才知道 原来那个张奶奶是 暴病死的 据说其中还有些古怪那</p><p>听人家说张奶奶年轻的时候可是十里八村出了名的美女 追她的 暗地里想他的小伙子可以说是排成了对 可是不知道为什么最后 这为美女最后却下嫁给了一个不怎么样的男人 或许有什么原因也或许是因为爱情 但是结婚后那些追求着还是 穷追不舍 最后张奶奶的老公 很早的就去世了 很多人说是 因为追她的人太多是被活活气死的 那年张奶奶才四十多岁 她一个人带着三个儿女 从此过着平淡的日子 虽然日子很清苦 但是儿女还算孝顺都很听话 就在她老头死了没多久老奶奶种了棵苦丁香 也许是处于对她老头子的怀念 不论晴天雨天 春天还是飘雪的冬天只要是吃过饭老奶奶都会做在树下望着丁香树 树也好像有了灵性 枝叶摇摆发出 沙沙的声音象是在和老奶奶对话 每年春天丁香花开 老奶奶都要大病一场 在床上一躺就是大班半个月甚至要将近一个月</p><p>时间过的真快随着燕子的悦耳鸣叫声 新的一年春天又来到了 可是老奶奶的身体却好像越来越差了 而她深爱的那棵丁香树显的越发精神 村子里的人议论也越来越多了 闲话也越传越神 有的说她家里闹鬼 说晚上 经常看到她死去很久的老头子蹲在门口抽烟 还说她家院子里的那棵丁香树就是她老头子的化身 说是因为那棵树在吸她的血所以树才长的那么郁郁葱葱 老奶奶的儿女一直说要把那棵树移走 或砍了 可是老奶奶就是不让 没次说到要砍树的事老奶奶总是闹着要死说 你们的爸爸死了也没人陪我了我现在只有这棵树陪我了 要是你们把树砍了那我也活着没什么意思了 所以儿女也拿她没有办法 可是老奶奶的身体真的是一天不如一天就象树上秋天的落叶一样随时都有凋谢的危险</p><p>春天的气候虽不一片骄阳但旷野处也到处生机萌生 随眼望去都不在是枯黄 而是淡淡的绿 田野里也都是忙着耕种的人们 但在这位老奶奶的家里却好似到了秋天一样冷冷清清 屋子里的气氛好像随时要停止凝结 老奶奶躺在床上咳的很是厉害 而且好像已经不在只是咳了 而是在吐血 她怕儿女担心她每咳一次都是用手帕捂着嘴 但是她嘴角的血却被细心的儿女察觉了 老奶奶最疼的小女儿哭着扑在老奶奶怀里 她强打精神笑着 摸着女儿的头说 别哭乖 我没事你们不要担心 如果我真的有事你们也不要伤心 我只是太思念你们的父亲 我早该去和他团聚去了 现在你们都大了我也没有什么放心不下的了 说到着老奶奶环顾了下屋子然后说这些年我身体一直不好 这个家全靠你们的大家操持了以后我要是去了你们要听她的话 知道吗不要让我在地下担心 说到这里儿女们哭的更是厉害了</p><p>风沙沙的 吹着丁香树 淡淡的香气 飘满了整个院子 飘到了老奶奶的房间 睡梦中的老奶奶闻到了香气 人也显的格外精神 一个多月没有下床的她 批上了衣服趁着夜色走出了屋外 老到了树下 手抚摸着树说 老头子我们就要团聚了 你当初一下子走了 真是狠心 你不知道我这么多年是怎么过来的 说着老奶奶抱着树哭了起来树也好象哭了一样枝叶也跟着抖动了起来 突然有一条象红色的线一样的血一样的从树的枝干上流了下来 老奶奶手摸到了 猛的抬头说老头子你怎么也哭了 这时候突然阴云密布 狂风突起 只见一道白光一闪 树象是被什么劈开了一样 断成了两节</p><p>只见树的中间鲜血淋淋 老奶奶被突来的状况一下子吓的晕了过去 不知道过了多久天边微蓝 早起的大女儿看到了躺在了地上的老奶奶还有段成两节的丁香树 吓的喊了出来 屋子里的弟弟妹妹也都被喊声惊醒都跑出了屋子 此时老奶奶已经浑身冰凉 僵硬了 可是老奶奶的表情很安祥还带着微笑手紧经的抱着那棵鲜血淋淋的树 老奶奶就这样走了</p><p>故事讲到这里按理说该是讲完了 可是自从儿女们把老奶奶安葬后 他们家的院子里又长出了两棵新的丁香树 人们都说 可能是 老奶奶和老爷爷放心不下他们的儿女 所以在次化为丁香树 每天守候着他们的儿女们</p><p>这正是 丁香有情 人有意 情缘难段 悲切切 思思春色 灌大地 人间处处都是春</p><p><a href="/2014/07/09/花鬼（转）/#post-footer" class="postShorten-excerpt_link link">评论和分享</a></p></div></div></article><article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemtype="http://schema.org/BlogPosting"><div class="postShorten-wrap"><div class="postShorten-header"><h1 class="postShorten-title" itemprop="headline"><a class="link-unstyled" href="/2014/07/09/血泪玖瑰（转）/">血泪玖瑰（转）</a></h1><div class="postShorten-meta"><time itemprop="datePublished" datetime="2014-07-09T01:00:01+08:00">7月 09, 2014 </time><span>发布在 </span><a class="category-link" href="/source/all-categories/恐怖故事/">恐怖故事</a></div></div><div class="postShorten-content" itemprop="articleBody"><p>我没有再对蔷薇作任何诠释，玫瑰也好，蔷薇也罢，都只有一瞬的美丽，它们会争艳地开放，可是也在一瞬间就凋零了。</p><p>我睁眼的一瞬，看见了一大束的蔷薇，依然鲜活着，可知道，它们马上就会失去光彩，成为枯萎的花尸。曾经说过，我喜欢蔷薇，因为它比玫瑰有更加持久的生命力，但又不失玫瑰的娇媚，又增添了一份野性。</p><p>接着，我闻到一股气味，不是蔷薇的香气，而是消毒水的味道，再看周围，才发现自己置身在一个陌生的环境，直觉告诉我，这是医院。我不止到到底发生了什么事情，我努力的回想着，一股血腥味涌了上来，便昏睡过去了。</p><p>再度醒来时，我看到了爸妈，还有一个我不认识的人，那束蔷薇已经没有生气，花瓣也开始脱落。我询问着，发生了什么事？自己怎么会在这儿？那个陌生的人说着，我发生了车祸。我又问，你是谁？他连同爸妈都“啊”了一声，接着爸叫来了医生，为我检查了一番，后来不知道他们说了些什么，我又昏沉沉的睡着了。在睡梦中我来到了一间屋子，满屋子的蔷薇，把我慢慢的淹没，最终我也成了一朵蔷薇，鲜红的，有人把我从中挑了去，细心的呵护着。</p><p>我好累，好累，在心中不停的说着。你不能睡，你不能睡，一个声音又不停的钻进我的耳朵，我要知道那是谁，吃力地张开眼睛，又是那个陌生人，他到底是谁呢？为什么我对他一点印象都没有呢？</p><p>不知在医院里躺了多久，那个陌生的他每天都会捧一束鲜活的蔷薇来代替那束快要枯萎的。我讨厌医院的气味，在稍微有些好转时，便要求出了院。</p><p>在我的记忆中，唯一缺残的就是那车祸和他，无论我怎么努力，也无法记起，似乎一切都停留在那场车祸以前。</p><p>在家中休息了大约一个月，他依然每天都会来看我，每次都有蔷薇，可我仍想不起他，真的很痛苦。后来我便去了公司，原来他和我是同事，我也知道，我和他的关系以前应该很亲密的。</p><p>他会接我上班，下班送我回家，依然有蔷薇，我也很自然地一直和他好，我想自己以前会选他，自然有我的道理。</p><p>有一天，他来接我上班，奇怪的是手中没有蔷薇，我很不习惯，缺少了之后才发现自己喜欢上了他的蔷薇无法割舍了。一路上我闷闷不乐，独自生气，他似乎看出了我的心思，在路上停了下来。你等我一下，我到对街买点东西。我点了点头，看他往对街走过去。一瞬，似乎觉得这一切都好熟悉。</p><p>等了一会，我见到他从一家店走了出来，手上捧着一大束蔷薇，在阳光下，蔷薇很耀眼，而他也更加刺目。我笑了，不知不觉朝他走区，没有顾及路上的行车，像着了魔一般。小心，我听到他狂叫着，只见他的手向我乱挥，我僵持在原地，不知道发生了什么事，猛的他向我冲来，把我狠推了一把，我重重的摔了出去。那一刻，我记起了先前的车祸，也是这样，只是他没来得及推我，我们便都倒地了，我们？我的脑又开始痛了，到底怎么了？明明我和他都出了车祸，为什么他没提呢？我看到他被车撞倒了，在手上的蔷薇被血染成了鲜红，好艳，好痛，又失去了知觉。</p><p>我又开始昏睡，在睡梦中我见到了他，他手上捧着蔷薇，鲜红的，不停的和我说，我会呵护她，呵护属于我一生的蔷薇，不会再让她受伤，不会……只见他慢慢的远去，消失在夜空中，可我还是看见了他眼角的泪，滴在蔷薇上，晶莹的。</p><p>醒了，醒了，在吵闹声中，我睁开了眼，依然是爸妈，只是环境不再陌生，不久前，我就住在这里，没有了蔷薇，也没有了他。</p><p>我睡了多久了？整整一年了。总算醒了，妈说着流泪了。我没想到自己已经睡了这么久。今天是几号？2001年9月6日。啊？一年？我明明前天才出车祸的。他呢？妈呜咽着，爸开口说，车祸那天，他就因失血过多走了。啊？一时间停止了所有的思维，怎么会是这样呢？可到底是哪次车祸呢？我出了几次车祸？几次？一次就已经差点醒不来，还要几次？妈说着，不过现在好了，醒了就好，不要再想了。</p><p>一次？明明出了两次车祸，妈怎么说才一次呢？我真的不懂，真的不懂。</p><p>隐约当中，我又听到一个声音，我会呵护她，呵护属于我一生的蔷薇，不会让她再受伤，不会……</p><p>我痊愈后，去看了他，带上了蔷薇，是鲜红的那种，站了很久，在临走前，眼角滑落了一滴泪，落在了花瓣上，好艳！</p><p><a href="/2014/07/09/血泪玖瑰（转）/#post-footer" class="postShorten-excerpt_link link">评论和分享</a></p></div></div></article><article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemtype="http://schema.org/BlogPosting"><div class="postShorten-wrap"><div class="postShorten-header"><h1 class="postShorten-title" itemprop="headline"><a class="link-unstyled" href="/2014/07/09/午夜兰花（转）/">午夜兰花（转）</a></h1><div class="postShorten-meta"><time itemprop="datePublished" datetime="2014-07-09T00:58:43+08:00">7月 09, 2014 </time><span>发布在 </span><a class="category-link" href="/source/all-categories/恐怖故事/">恐怖故事</a></div></div><div class="postShorten-content" itemprop="articleBody"><p>春意正浓，城郊慈恩寺外的白玉兰已然盛开。每年到了这个时候，慈恩寺的香火便 特别兴旺。来拜祭的人中以女子居多，因为据说此时若来慈恩寺上香，一并拜祭兰花仙 子，可以给女子带来福运。久而久之，慈恩寺干脆在寺外一望无边的玉兰花林中修建了 一些小别院，让那些前来拜祭并赏花的大户人家提供一个小憩之所，也可以给寺里添一 些香火钱。</p><p>“睿，准备好了吗？”</p><p>“好了。哎！等等，咱们把这个小玉佛带上吧，请智清大师开光，可以避邪的！”</p><p>“好啊！走吧。”</p><p>南宫家的马车出了府门，直奔城外的慈恩寺而去。</p><p>说到南宫家，一定要提一提南宫家的少奶奶。南宫家的少奶奶姓云，闺名幽兰，性 喜兰花，凡是与兰花有关的事物，她总是特别偏爱，顺带着，连蓝色的东西也颇得她青 睐。南宫睿与幽兰极为恩爱，总是喜欢搜罗一些幽兰喜欢的东西回家。不唯如此，她似 乎还特别与兰花有缘，她与南宫睿就是在慈恩寺外观玉兰时认识的。所以每年慈恩寺外 的白玉兰盛开之时，他总会带幽兰去小住一些日子，赏赏兰花，清清肺腑间的浊气，顺 道也可以去慈恩寺祈福。</p><p>“怎么样？”</p><p>“办妥了，智清大师说，等中秋就能来取了。”</p><p>“好啊！”</p><p>“咱们赏花去吧！”</p><p>“嗯！”</p><p>转眼间，金乌西坠，玉兔东升。南宫睿和幽兰在烂漫的花间漫步了几个时辰，早就 乏了，于是在小别院中坐了下来。泡一杯香茗，相视一笑，舒心畅谈，真是神仙过的日 子呢！</p><p>“睿，你看，今天的月亮好圆啊！”</p><p>“是啊！花香、明月、清茗一杯，还有美人坐陪，人生如此，夫复何求啊！”</p><p>幽兰娇嗔地一笑。南宫睿似要醉了。</p><p>在幸福的时候，时光最容易不知不觉地流逝，一转眼，已近子时了。夹着兰花幽香 的夜风已有些许凉意了。</p><p>“幽兰，咱们进屋吧，小心着凉！”</p><p>“不嘛，这么美的月色，咱们多坐一会儿吧，好吗？”</p><p>在幽兰盈盈的目光注视下，谁还能拒绝她的要求呢？何况是这么一个小小的要求。</p><p>“那，我进屋去替你把披风拿出来，你在这儿等我一下。”</p><p>“好啊！”</p><p>“对了，你把披风放在哪儿了？”</p><p>“记不太清了，好象是搁在床上了吧！”</p><p>“那好，我先进去了，马上就回来。”</p><p>“嗯！”</p><p>一阵清风吹过，幽兰感到无比的惬意。她不禁站了起来，迎风而立，让丝裙在风中 飘动。她深吸了一口充满兰花幽香的空气，缓缓走到院门边，倚门而立，注视着院外盛 放的兰花。</p><p>“嗳，<del>~</del>~~~”</p><p>一声轻轻的叹息，在夜的寂静中特别刺耳。</p><p>幽兰一转头，见一个白衣少妇立于玉兰花丛中。夜已深了，周围并无旁人，那声叹 息，当是出自这少妇。</p><p>幽兰一时好奇心起，轻移莲足，来到少妇的身边，轻声问道：“这位姐姐，夜深 了，小心着凉！”</p><p>那少妇闻声转过头来。如水的月光洒在她脸上，她的脸白得有些异常，但掩饰不了 她的娇艳。</p><p>“着凉？……有什么要紧？我还要在乎着不着凉么？”</p><p>说完又叹息了一声 。</p><p>那叹息象是钻进幽兰心里，教她十分不忍。</p><p>“这位姐姐，你有什么难处么？如果不妨，能否说给妹妹听听？也许妹妹能帮姐姐 稍稍分担些忧愁呢！”</p><p>“你？嗳<del>~</del>~~~~ ”</p><p>又是一声叹息，幽兰看着那泫然欲涕的少妇，觉得眼眶潮湿了。</p><p>“姐姐，有什么事情是解决不了的呢？姐姐如此忧虑，妹妹实在于心不忍啊！”</p><p>少妇闻言幽怨地看了她一眼，道：“很久了，我第一次遇见你这样善良的人。算 了，我知道你是好人，可我的事不是别人能帮上忙的。”</p><p>“可是……”</p><p>幽兰还想说点什么，却被少妇打断了。</p><p>“嗳，不用说了，难得遇见你这样的好人，既然咱们这么有缘，这东西就送给你吧 ！”</p><p>话音落处，少妇伸出的手掌中，赫然托着一枚兰花形的玉坠。那温润的白玉，在月 光的照耀下，闪着一种异样的光彩，一看便知不是寻常物品。</p><p>“这，姐姐，我不能收。我没有为你做过什么，所谓无功不受禄。更何况，君子不 掠之美。姐姐的心意，妹妹这厢谢过了。”</p><p>“你？你是嫌弃我么？”</p><p>少妇的眼光中透出怒意，一转眼，又变成了一种莫名的悲哀神情。</p><p>“嗳，<del>~</del>~，我知道你们终究都是嫌弃我的。”</p><p>“这，姐姐，我，我，我不是那个意思，你知道的。”</p><p>幽兰慌忙辩解到。</p><p>“如果不是，就收下吧。来，姐姐给你戴上吧！”</p><p>幽兰看着少妇那泪汪汪的眼睛，再看看那枚绝美的兰花坠子，竟无从拒绝了。</p><p>“好了，你看，这不是很好吗？”</p><p>幽兰低头望着胸前的兰花坠子，低声说：“多谢姐姐！”</p><p>“谢什么？哈哈哈哈！……”</p><p>幽兰惊奇地担头望向少妇，却惊奇地发现少妇满脸狂喜地盯着自己胸前的兰花坠 子。突然间，幽兰胸前的坠子在月光中发出一种妖异的光芒。迷迷惘惘之中，幽兰惊恐 地看见自己飘了起来。而更让她惊惧的是，地上居然还站着一个自己。让她的恐惧达到 极至的是，白衣少妇正与地上的另一个自己合而为一。</p><p>“为什么？为什么？到底为什么啊？”</p><p>她看见地上的“自己”妖冶地一笑：“二十年了，我等了整整二十年，终于等到你 这个傻女人心甘情愿地让我套上这枚兰花坠子。哈哈哈哈哈！我终于可以重新作人了。 你还是不要在这里傻站着了，去找<br>一个愿意接替你受苦的傻女人吧！哈哈哈哈！”</p><p>“不！不！你怎么能这样？不！”</p><p>“幽兰！幽兰！你在哪儿啊！幽兰！”</p><p>院中传来南宫睿的声音。</p><p>“幽兰！幽兰！”</p><p>“哎！我就来！” 　　地上的“幽兰”答到。她望着幽兰得意地一笑：“我‘相公’在唤我了，我要回去 了，你还是快去找替身吧！记住！只能是月圆之夜，而且替身得是心甘情愿地套上这兰 花坠子的！希望你比我幸运，不用等二十年，二十年！哈哈哈哈！”</p><p>“不！这不公平！不公平啊！为什么！？”</p><p>幽兰泪如雨下，却无力阻止“幽兰”的离去。</p><p>……</p><p>一转眼，幽兰成为游魂已经快半年了。中秋已近，各家各户都在忙着准备过节，可 幽兰还是孤伶伶的，没有着落。时至今日，幽兰仍时时会以为自己在作梦，一场没有边 际的噩梦。白衣妇人最后的话时时在她耳边回响。有好几次月圆之夜，她实在难以忍受 这种没有边际的痛苦，也曾动过找个替身的念头。可每当她拿起那枚兰花坠子，再想想 自己成为游魂之后所受的苦，她就是于心不忍。越是如此，她就越是矛盾，所以每到月 圆之时，就是幽兰最痛苦的时候。</p><p>明日便是中秋了，月光分外的清明，冷冷的月光照在慈恩寺别院的青砖上。幽兰孤 伶伶地在玉兰林中游荡。现在并非花季，因此也罕有游人前来，更何况中秋佳节将至， 大家都回家与亲人团聚了。亲人，一想到这个词，幽兰就分外痛苦。南宫睿的声音在她 耳畔浮现。</p><p>“幽兰，你知道你哪一点最吸引我吗？”</p><p>“我，我怎么会知道呢？”</p><p>“是你的善良，还有你的善解人意。”</p><p>……</p><p>善良，要作一个善良的人其实是多么不易啊！如果她不把这兰花坠子转给别人，就 得永远作个孤苦的游魂，可是如果她把坠子给了别人，不就要让南宫睿失望了吗？</p><p>“嗳，<del>~</del>~”</p><p>曾几何时，她还在为别人这样的叹息而忧心，如今自己竟也会如此叹息了。</p><p>无论是哪一种选择，她的生活和南宫都不会再有交集了。可是她就是不忍让南宫睿 失望，即便他永远也不会知道她的选择。她伸开掌心，望着月光辉映下美仑美奂的兰花 坠子，有谁会知道这么美丽的东西，原来是个害人的妖物呢？</p><p>“算了，就让我永远当个孤苦的游魂吧！不要再去祸害别的人了。”</p><p>一道白光划过夜幕，幽兰将坠子抛了出去……</p><p>中秋月夜，满月的光辉照着人间的万家灯火。南宫家的少奶奶“幽兰”正坐在院中 赏月。</p><p>“小寒，少爷到底去哪儿了？都什么时辰了，怎么还没回来？”</p><p>“回少奶奶，已经过了亥时了。少爷嘛，好象是去慈恩寺了。”</p><p>“什么叫好象？大过节的，不在家里呆着，怎么又到慈恩寺去了？”</p><p>“回少奶奶，我也隐约听那些少爷的跟班提过，所以不敢肯定。上回送去慈恩寺的 小玉佛已经开光了，奴婢猜想，少爷大约是赶去取小玉佛了。”</p><p>“哦！那再等等吧！”</p><p>“是！”</p><p>她合上双眼，忽然想起了幽兰：“那个傻女人命倒好，有个这么好的老公，只可惜 无福消受。也不知她找到替身没有！哼！管她呢！我吃了二十年的苦才脱身，合该她倒 霉吧！”</p><p>“幽兰！我回来了！我给你带了样好东西回来！”</p><p>“什么好东西！？”</p><p>“你一定猜不着，来，你闭上眼睛，我给你戴上！”</p><p>“哼！什么好东西！我早就知道了！”</p><p>“哎呀！你闭上眼睛嘛！”</p><p>“幽兰”闭上眼睛，嘴角含着笑意！</p><p>“好了！”南宫睿说，“看，多漂亮！”</p><p>“幽兰”睁开眼，用难以置信的眼神望着胸前的兰花坠子。</p><p>“看，我就知道你会喜欢，对不对？慈恩寺小沙弥在花林中拾到这个坠子，正好我 去取开光的小玉佛，他说这坠子也许与我有缘，就给了我，我捐了些香火钱，就把它带 回来了。瞧！和你多配！我从没见过这么漂亮的兰花坠子呢！”</p><p>“不！”“幽兰”惊慌失措，伸手想把坠子扯下来。忽然，满月的光芒在坠子上闪 过，发出妖异的光芒……</p><p>幽兰不知道是怎么回事，但睁开眼时已经在自己原来的房间里了，南宫睿正握着她 的手，用一种似乎亘古不变的温柔目光望着她。</p><p>也许，真是一场梦吧！</p><p>“幽兰！你醒了？真把我吓坏了！都是我不好，不该把那个什么兰花坠子带回来。 那个坠子一定有邪气吧！还好，反正也不见了。以后咱们就戴这个小玉佛，好吗？”</p><p><a href="/2014/07/09/午夜兰花（转）/#post-footer" class="postShorten-excerpt_link link">评论和分享</a></p></div></div></article><div class="pagination-bar"><ul class="pagination"><li class="pagination-prev"><a class="btn btn--default btn--small" href="/source/all-archives/page/14/"><i class="fa fa-angle-left text-base icon-mr"></i> <span>上一页</span></a></li><li class="pagination-next"><a class="btn btn--default btn--small" href="/source/all-archives/page/16/"><span>下一页</span> <i class="fa fa-angle-right text-base icon-ml"></i></a></li><li class="pagination-number">第 15 页 共 23 页</li></ul></div></section><footer id="footer" class="main-content-wrap"><span class="copyrights">Copyrights &copy; 2019 Roy. All Rights Reserved.</span></footer></div></div><div id="about"><div id="about-card"><div id="about-btn-close"><i class="fa fa-remove"></i></div><img id="about-card-picture" src="/assets/images/my.jpg" alt="作者的图片"><h4 id="about-card-name">Roy</h4><div id="about-card-bio"><p>君以国士待我，我必以国士报君。</p></div><div id="about-card-job"><i class="fa fa-briefcase"></i><br><p>野生程序猿</p></div><div id="about-card-location"><i class="fa fa-map-marker"></i><br>China</div></div></div><div id="algolia-search-modal" class="modal-container"><div class="modal"><div class="modal-header"><span class="close-button"><i class="fa fa-close"></i></span> <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled"><span class="searchby-algolia-text text-color-light text-small">by</span> <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg"> </a><i class="search-icon fa fa-search"></i><form id="algolia-search-form"><input type="text" id="algolia-search-input" name="search" class="form-control input--large search-input" placeholder="Search "></form></div><div class="modal-body"><div class="no-result text-color-light text-center">没有找到文章</div><div class="results"><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/02/12/Ubuntu下Gogant的简易破墙术/"><h3 class="media-heading">Ubuntu下Gogant的简易破墙术</h3></a><span class="media-meta"><span class="media-date text-small">2013年2月12日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/10/31/python常用第三方库-转载/"><h3 class="media-heading">Python常用第三方库(转载)</h3></a><span class="media-meta"><span class="media-date text-small">2013年10月31日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/fedora19安装ar8161网卡驱动/"><h3 class="media-heading">fedora19安装ar8161网卡驱动</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/fedora19源，rpmforge，fastestmirror/"><h3 class="media-heading">fedora19源，rpmforge，fastestmirror</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/python中如何自定义解析域名/"><h3 class="media-heading">python中如何自定义解析域名</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/django版本更换/"><h3 class="media-heading">django版本更换</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/django-groundwork个人1-5-3修改版/"><h3 class="media-heading">django-groundwork个人1.5.3修改版</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/fedora19美化/"><h3 class="media-heading">fedora19美化</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/装饰器/"><h3 class="media-heading">装饰器</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/SVN常用操作/"><h3 class="media-heading">SVN常用操作</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div></div></div><div class="modal-footer"><p class="results-count text-medium" data-message-zero="没有找到文章" data-message-one="找到 1 篇文章" data-message-other="找到 {n} 篇文章">找到 221 篇文章</p></div></div></div><div id="cover" style="background-image:url(/assets/images/cover.jpg)"></div><script src="/assets/js/script-ivwiy10zeb8fifc4swnhkwneuk64y53w2scmdmtp8thi9cqfxh31aowtroaz.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script><script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script><script>var algoliaClient=algoliasearch("51U8PIBLP6","16909d9ce1780cda71113841864e7aa8"),algoliaIndex=algoliaClient.initIndex("my-blog")</script></body></html>