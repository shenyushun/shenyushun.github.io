<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Hi!Roy!"><title>我特么是如何利用Django, Django REST Framework, Angular 1.1.x和Webpack构建一个项目的 - Hi!Roy!</title><meta name="author" content="Roy"><link rel="icon" href="http://www.hi-roy.com/assets/images/favicon.ico"><link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml"><meta name="description" content="原文地址，向原作者表示感谢。由于本人并没学习过angular，所以翻译有误的地方恳请指正。我已经受够了JS社区的那帮二货，我只是想使用Django作为后端结合Angular做一个简单的、可复用的项目，却没有一个简明的指导教我如何做到。如果你也为此挣扎，这里有一份指南教你如何构建一个由Django作为后端、Webpack进行组织的Angular程序。问题我想开发一个Angular1.1.x的项目并使"><meta name="keywords" content="django,angular,webpack"><meta property="og:type" content="blog"><meta property="og:title" content="我特么是如何利用Django, Django REST Framework, Angular 1.1.x和Webpack构建一个项目的"><meta property="og:url" content="http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/index.html"><meta property="og:site_name" content="Hi!Roy!"><meta property="og:description" content="原文地址，向原作者表示感谢。由于本人并没学习过angular，所以翻译有误的地方恳请指正。我已经受够了JS社区的那帮二货，我只是想使用Django作为后端结合Angular做一个简单的、可复用的项目，却没有一个简明的指导教我如何做到。如果你也为此挣扎，这里有一份指南教你如何构建一个由Django作为后端、Webpack进行组织的Angular程序。问题我想开发一个Angular1.1.x的项目并使"><meta property="og:locale" content="zh-cn"><meta property="og:updated_time" content="2019-09-16T08:11:51.526Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="我特么是如何利用Django, Django REST Framework, Angular 1.1.x和Webpack构建一个项目的"><meta name="twitter:description" content="原文地址，向原作者表示感谢。由于本人并没学习过angular，所以翻译有误的地方恳请指正。我已经受够了JS社区的那帮二货，我只是想使用Django作为后端结合Angular做一个简单的、可复用的项目，却没有一个简明的指导教我如何做到。如果你也为此挣扎，这里有一份指南教你如何构建一个由Django作为后端、Webpack进行组织的Angular程序。问题我想开发一个Angular1.1.x的项目并使"><meta property="og:image" content="http://www.hi-roy.com/assets/images/my.jpg"><link rel="stylesheet" href="/assets/css/style-sxklfps8ywgfyyjcowvnb4gxdgt0zjts3hsguljmv9uqanxjbnitrovtbrek.min.css"><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?21513ec2bcd577b3297a1b16da82fa40";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body><div id="blog"><header id="header" data-behavior="4"><i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i><div class="header-title"><a class="header-title-link" href="/">Hi!Roy!</a></div><a class="header-right-icon" href="#about"><i class="fa fa-lg fa-question"></i></a></header><nav id="sidebar" data-behavior="4"><div class="sidebar-container"><div class="sidebar-profile"><a href="/#about"><img class="sidebar-profile-picture" src="/assets/images/my.jpg" alt="作者的图片"></a><h4 class="sidebar-profile-name">Roy</h4><h5 class="sidebar-profile-bio"><p>君以国士待我，我必以国士报君。</p></h5></div><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/"><i class="sidebar-button-icon fa fa-lg fa-home"></i> <span class="sidebar-button-desc">首页</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-categories"><i class="sidebar-button-icon fa fa-lg fa-bookmark"></i> <span class="sidebar-button-desc">分类</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-tags"><i class="sidebar-button-icon fa fa-lg fa-tags"></i> <span class="sidebar-button-desc">标签</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-archives"><i class="sidebar-button-icon fa fa-lg fa-archive"></i> <span class="sidebar-button-desc">归档</span></a></li><li class="sidebar-button"><a class="sidebar-button-link open-algolia-search" href="#search"><i class="sidebar-button-icon fa fa-lg fa-search"></i> <span class="sidebar-button-desc">搜索</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="#about"><i class="sidebar-button-icon fa fa-lg fa-question"></i> <span class="sidebar-button-desc">关于</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="https://github.com/shenyushun" target="_blank" rel="noopener"><i class="sidebar-button-icon fa fa-lg fa-github"></i> <span class="sidebar-button-desc">GitHub</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="mailto:darkcooking@gmail.com" target="_blank" rel="noopener"><i class="sidebar-button-icon fa fa-lg fa-envelope-o"></i> <span class="sidebar-button-desc">邮箱</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/atom.xml"><i class="sidebar-button-icon fa fa-lg fa-rss"></i> <span class="sidebar-button-desc">RSS</span></a></li></ul></div></nav><div id="main" data-behavior="4" class="hasCoverMetaIn"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><div class="post-header main-content-wrap text-left"><h1 class="post-title" itemprop="headline">我特么是如何利用Django, Django REST Framework, Angular 1.1.x和Webpack构建一个项目的</h1><div class="post-meta"><time itemprop="datePublished" datetime="2016-11-08T13:50:46+08:00">11月 08, 2016 </time><span>发布在 </span><a class="category-link" href="/source/all-categories/菜鸟翻译屋/">菜鸟翻译屋</a></div></div><div class="post-content markdown" itemprop="articleBody"><div class="main-content-wrap"><p><a href="http://gregblogs.com/how-the-do-i-build-a-django-django-rest-framework-angular-1-1-x-and-webpack-project/#prereq" target="_blank" rel="noopener">原文地址</a>，向原作者表示感谢。由于本人并没学习过angular，所以翻译有误的地方恳请指正。</p><hr><p>我已经受够了JS社区的那帮二货，我只是想使用Django作为后端结合Angular做一个简单的、可复用的项目，却没有一个简明的指导教我如何做到。如果你也为此挣扎，这里有一份指南教你如何构建一个由Django作为后端、Webpack进行组织的Angular程序。</p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>我想开发一个Angular1.1.x的项目并使用Django作为后端提供数据，我喜欢使用Django REST Framework(DRF)来构造RESTful API。我也想打包需要的JavaScript资源。目前，我打算使用单一的服务器上运行这个程序。</p><h2 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h2><ul><li>Python 2.x</li><li>a virtual Python environment</li><li>Django 1.9.x (pip install django)</li><li>npm 2.15.8+</li><li>Webpack 1.13.x (sudo npm i -g webpack)</li><li>ESLint 2.13.1+ (sudo npm i -g eslint)</li><li>NodeJS 4.4.7+</li></ul><a id="more"></a><h2 id="0-设定虚拟环境"><a href="#0-设定虚拟环境" class="headerlink" title="0.设定虚拟环境"></a>0.设定虚拟环境</h2><p><code>mkvirtualenv mysite</code><br>在这步，你需要确保安装了上面所有的依赖项，包括Django。</p><h2 id="1-创建目录"><a href="#1-创建目录" class="headerlink" title="1.创建目录"></a>1.创建目录</h2><p>我们在开发时候就需要聚焦于模块化，因此我们最终会用到许多目录，初始时我们的目录结构如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mysite  </span><br><span class="line">├── backend</span><br><span class="line">│   ├── docs</span><br><span class="line">│   ├── requirements</span><br><span class="line">└── frontend</span><br><span class="line">    ├── app</span><br><span class="line">    │   ├── components</span><br><span class="line">    │   └── shared</span><br><span class="line">    ├── assets</span><br><span class="line">    │   ├── css</span><br><span class="line">    │   ├── img</span><br><span class="line">    │   ├── js</span><br><span class="line">    │   └── libs</span><br><span class="line">    ├── config</span><br><span class="line">    ├── dist</span><br><span class="line">        └── js</span><br></pre></td></tr></table></figure><p></p><p>执行：<br></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mkdir mysite &amp;&amp; cd mysite  </span><br><span class="line">mkdir -p backend/docs/ backend/requirements/ \  </span><br><span class="line">         frontend/app/shared/ \</span><br><span class="line">         frontend/app/components/ \</span><br><span class="line">         frontend/config \</span><br><span class="line">         frontend/assets/img/ frontend/assets/css/ \</span><br><span class="line">         frontend/assets/js/ frontend/assets/libs/ \</span><br><span class="line">         frontend/dist/js/</span><br></pre></td></tr></table></figure><p></p><p>注意：这个项目结构的灵感来源几个不同的项目，我认为这个结构是十分理想的，但你并不必须按这种结构组织代码。不过你在跟随文档操作时最好保持这个结构以免出现问题。</p><h2 id="2-创建Django项目"><a href="#2-创建Django项目" class="headerlink" title="2.创建Django项目"></a>2.创建Django项目</h2><p>进入<code>mysite/backend/</code>目录创建Django项目：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python django-admin.py startproject mysite</span><br></pre></td></tr></table></figure><p></p><p>并且创建在<code>requirements/</code>中<code>requirements.txt</code>文件：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip freeze &gt; requirements/requirements.txt</span><br></pre></td></tr></table></figure><p></p><p>在<code>mysite/backend/mysite/</code>目录内创建存放API程序的目录：<br></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p applications/api/v1/  </span><br><span class="line">touch applications/__init__.py applications/api/__init__.py \  </span><br><span class="line">        applications/api/v1/__init__.py applications/api/v1/routes.py \</span><br><span class="line">        applications/api/v1/serializers.py applications/api/v1/viewsets.py</span><br></pre></td></tr></table></figure><p></p><p>接下来创建<code>settings</code>目录在<code>mysite/backend/mysite/</code>目录：<br></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p mysite/settings/  </span><br><span class="line">touch mysite/settings/__init__.py \  </span><br><span class="line">        mysite/settings/base.py mysite/settings/dev.py mysite/settings/prod.py \</span><br><span class="line">        mysite/dev.env mysite/prod.env</span><br></pre></td></tr></table></figure><p></p><h2 id="3-设定Django所需的环境变量"><a href="#3-设定Django所需的环境变量" class="headerlink" title="3.设定Django所需的环境变量"></a>3.设定Django所需的环境变量</h2><p>在这步我喜欢使用<code>django-environ</code>来管理环境变量，当然有很多其他方法来做这件事，不过<code>django-environ</code>极大的简化了这个过程，所以我在所有的项目中都使用它。</p><p>安装<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install django-environ</span><br></pre></td></tr></table></figure><p></p><p>在<code>mysite/dev.env</code>中添加：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DATABASE_URL=sqlite:///mysite.db  </span><br><span class="line">DEBUG=True  </span><br><span class="line">FRONTEND_ROOT=path/to/mysite/frontend/  </span><br><span class="line">SECRET_KEY=_some_secret_key</span><br></pre></td></tr></table></figure><p></p><p>接下来我们将在<code>settings</code>中使用这些变量，这种在单独文件中配置特定变量的好处就是提供了切换运行环境的简单方法。在这里，<code>dev.env</code>文件是一个我们在本地开发时候使用的变量列表，同样的<code>prod.env</code>包含了生产环境所需的变量。</p><p>注意：<code>SECRET_KEY</code>可以在执行<code>django-admin.py startproject</code>后生成的<code>settings.py</code>中获取。</p><h2 id="4-安装Django-REST-Framework并配置Django使用环境变量"><a href="#4-安装Django-REST-Framework并配置Django使用环境变量" class="headerlink" title="4.安装Django REST Framework并配置Django使用环境变量"></a>4.安装Django REST Framework并配置Django使用环境变量</h2><p>安装<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install djangorestframework</span><br></pre></td></tr></table></figure><p></p><p>编写<code>mysite/backend/mysite/settings/base.py</code>文件:</p><p><em>告诉Django去哪里寻找环境变量</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> environ</span><br><span class="line"></span><br><span class="line">project_root = environ.Path(__file__) - <span class="number">3</span>  </span><br><span class="line">env = environ.Env(DEBUG=(bool, <span class="literal">False</span>),)  </span><br><span class="line">CURRENT_ENV = <span class="string">'dev'</span> <span class="comment"># 'dev' is the default environment</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># read the .env file associated with the settings that're loaded</span></span><br><span class="line">env.read_env(<span class="string">'./mysite/&#123;&#125;.env'</span>.format(CURRENT_ENV))</span><br></pre></td></tr></table></figure><p><em>配置数据库，这里我们使用django-environ内置的sqlite配置</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DATABASES = &#123;  </span><br><span class="line">    <span class="string">'default'</span>: env.db()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>指定SECRET_KEY和DEBUG选项</em><br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SECRET_KEY = env(<span class="string">'SECRET_KEY'</span>)  </span><br><span class="line">DEBUG = env(<span class="string">'DEBUG'</span>)</span><br></pre></td></tr></table></figure><p></p><p><em>添加DRF到项目中</em><br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Application definition</span></span><br><span class="line">INSTALLED_APPS = [</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment"># Django Packages</span></span><br><span class="line">    <span class="string">'rest_framework'</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p></p><p><em>配置URL</em><br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ROOT_URLCONF = <span class="string">'mysite.urls'</span></span><br></pre></td></tr></table></figure><p></p><p><em>指定templates和静态资源目录</em><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">STATIC_URL = &apos;/static/&apos;  </span><br><span class="line">STATICFILES_FINDERS = [  </span><br><span class="line">    &apos;django.contrib.staticfiles.finders.FileSystemFinder&apos;,</span><br><span class="line">    &apos;django.contrib.staticfiles.finders.AppDirectoriesFinder&apos;,</span><br><span class="line">]</span><br><span class="line">STATICFILES_DIRS = [  </span><br><span class="line">    env(&apos;FRONTEND_ROOT&apos;)</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">TEMPLATES = [  </span><br><span class="line">    &#123;</span><br><span class="line">        &apos;BACKEND&apos;: &apos;django.template.backends.django.DjangoTemplates&apos;,</span><br><span class="line">        &apos;DIRS&apos;: [env(&apos;FRONTEND_ROOT&apos;)],</span><br><span class="line">        &apos;APP_DIRS&apos;: True,</span><br><span class="line">        &apos;OPTIONS&apos;: &#123;</span><br><span class="line">            &apos;context_processors&apos;: [</span><br><span class="line">                &apos;django.template.context_processors.debug&apos;,</span><br><span class="line">                &apos;django.template.context_processors.request&apos;,</span><br><span class="line">                &apos;django.contrib.auth.context_processors.auth&apos;,</span><br><span class="line">                &apos;django.contrib.messages.context_processors.messages&apos;,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p></p><p>根据<code>TEMPLATES</code>的配置，Django将在<code>frontend/</code>目录寻找模板文件，这里也是Angular项目存放的位置。我们提供入口指令让Django使用Angular提供的模板。如果你不明白我在说什么，继续往下看……</p><p>编写<code>settings/dev.py</code>：<br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> mysite.settings.base <span class="keyword">import</span> *</span><br><span class="line">CURRENT_ENV = <span class="string">'dev'</span></span><br></pre></td></tr></table></figure><p></p><p>这里我们告诉Django这个配置文件继承自<code>base.py</code>并且覆盖了<code>CURRENT_ENV</code>变量，意思就是说“使用这里的变量值而不是base.py中的变量值。”</p><h2 id="5-创建API"><a href="#5-创建API" class="headerlink" title="5.创建API"></a>5.创建API</h2><p>我们需要数据来测试Angular服务，所以来创建一个简单的API。你可以跳过这一节，但我不建议你这么做。完全的知道Angular的工作设置细节去理解HTTP请求是很重要的。</p><p><em>在<code>mysite/backend/mysite</code>中创建一个Django App</em><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir applications/games  </span><br><span class="line">manage.py startapp games applications/games</span><br></pre></td></tr></table></figure><p></p><p><em>添加games app到settings文件中</em><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [  </span><br><span class="line">    ...</span><br><span class="line">    &apos;applications.games&apos;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p></p><p><em>在<code>mysite/backend/mysite/applications/games/models.py</code>中创建模型</em><br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Game</span><span class="params">(models.model)</span>:</span>  </span><br><span class="line">    title = models.CharField(max_length=<span class="number">255</span>)</span><br><span class="line">    description = models.CharField(max_length=<span class="number">750</span>)</span><br></pre></td></tr></table></figure><p></p><p><em>在<code>mysite/backend/mysite/applications/api/v1/serializers.py</code>中创建serializer</em><br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework.serializers <span class="keyword">import</span> ModelSerializer  </span><br><span class="line"><span class="keyword">from</span> applications.games.models <span class="keyword">import</span> Game</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GameSerializer</span><span class="params">(ModelSerializer)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = Game</span><br></pre></td></tr></table></figure><p></p><p><em>在<code>mysite/backend/mysite/applications/api/v1/viewsets.py</code>中创建DRF viewset</em><br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> viewsets  </span><br><span class="line"><span class="keyword">from</span> applications.games.models <span class="keyword">import</span> Game  </span><br><span class="line"><span class="keyword">from</span> applications.api.v1.serializers <span class="keyword">import</span> GameSerializer</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GameViewSet</span><span class="params">(viewsets.ModelViewSet)</span>:</span>  </span><br><span class="line">    queryset = Game.objects.all()</span><br><span class="line">    serializer_class = GameSerializer</span><br></pre></td></tr></table></figure><p></p><p><em>利用DRF的路由注册特性来处理路由信息在<code>mysite/backend/mysite/applications/api/v1/routes.py</code>中</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> routers  </span><br><span class="line"><span class="keyword">from</span> applications.api.v1.viewsets <span class="keyword">import</span> GameViewSet</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">api_router = routers.SimpleRouter()  </span><br><span class="line">api_router.register(<span class="string">'games'</span>, GameViewSet)</span><br></pre></td></tr></table></figure><p><em>在<code>mysite/backend/mysite/mysite/urls.py</code>添加url配置</em><br></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin  </span><br><span class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> include, url  </span><br><span class="line"><span class="keyword">from</span> applications.api.v1.routes <span class="keyword">import</span> api_router</span><br><span class="line"></span><br><span class="line">urlpatterns = [  </span><br><span class="line">    url(<span class="string">r'^admin/'</span>, admin.site.urls),</span><br><span class="line">    <span class="comment"># API:V1</span></span><br><span class="line">    url(<span class="string">r'^api/v1/'</span>, include(api_router.urls)),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p></p><h2 id="6-运行Django服务"><a href="#6-运行Django服务" class="headerlink" title="6.运行Django服务"></a>6.运行Django服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">manage.py runserver --settings=mysite.settings.dev</span><br></pre></td></tr></table></figure><p>通过<code>DJANGO_SETTINGS_MODULE</code>我们告诉<code>runserver</code>命令使用特定的配置文件。</p><p>如果一切正常，你可以访问<code>localhost:8000/api/v1/games</code>并看到DRF的响应，接下来我们开始构建Angular程序。如果你卡住了，在评论区提出你的问题，我将帮助你调试。</p><h2 id="7-初始化npm包并安装前端JS依赖项"><a href="#7-初始化npm包并安装前端JS依赖项" class="headerlink" title="7.初始化npm包并安装前端JS依赖项"></a>7.初始化npm包并安装前端JS依赖项</h2><p>没正确安装依赖项时Angular程序不会正常工作，这里先安装一些所需的依赖。</p><p><em>初始化NPM包。在<code>mysite/frontend/</code>目录中执行</em><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init --yes</span><br></pre></td></tr></table></figure><p></p><p>通过<code>--yes</code>参数，告诉NPM命令根据默认选项生成<code>package.json</code>，这样就不用回答那些无聊的问题了。</p><p><em>安装开发依赖项</em><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev eslint eslint-loader</span><br></pre></td></tr></table></figure><p></p><p><em>安装通用依赖项</em><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save eslint eslint-loader angular angular-resource angular-route json-loader mustache-loader lodash</span><br></pre></td></tr></table></figure><p></p><p>略微调整一下<code>mysite/frontend/</code>目录中的<code>package.json</code>文件，如下所示：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"my-app"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"0.0.1"</span>,</span><br><span class="line">  <span class="string">"description"</span>: <span class="string">"This is my first angular app."</span>,</span><br><span class="line">  <span class="string">"main"</span>: <span class="string">"app.js"</span>,</span><br><span class="line">  <span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"keywords"</span>: [],</span><br><span class="line">  <span class="string">"author"</span>: <span class="string">""</span>,</span><br><span class="line">  <span class="string">"license"</span>: <span class="string">"ISC"</span>,</span><br><span class="line">  <span class="string">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"eslint"</span>: <span class="string">"^3.1.1"</span>,</span><br><span class="line">    <span class="string">"eslint-loader"</span>: <span class="string">"^1.4.1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"angular"</span>: <span class="string">"^1.5.8"</span>,</span><br><span class="line">    <span class="string">"angular-resource"</span>: <span class="string">"^1.5.8"</span>,</span><br><span class="line">    <span class="string">"angular-route"</span>: <span class="string">"^1.5.8"</span>,</span><br><span class="line">    <span class="string">"eslint"</span>: <span class="string">"^3.1.1"</span>,</span><br><span class="line">    <span class="string">"eslint-loader"</span>: <span class="string">"^1.4.1"</span>,</span><br><span class="line">    <span class="string">"json-loader"</span>: <span class="string">"^0.5.4"</span>,</span><br><span class="line">    <span class="string">"lodash"</span>: <span class="string">"^4.13.1"</span>,</span><br><span class="line">    <span class="string">"mustache-loader"</span>: <span class="string">"^0.3.1"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>eslint - 语法检查器，保持javascript代码的整洁和一致。</li><li>eslint-loader - 通过Webpack运行eslint。我将会稍微解释一下“加载器”的概念。</li><li>angular - MVC框架，如果你不知道这个可以关闭页面了。</li><li>angular-resource - 一款angular的HTTP库，是<code>$http</code>的抽象。</li><li>json-loader - 一个加载器(同样的，给Webpack使用)，通过<code>require()</code>语法来提取<code>.json</code>文件中的JSON格式内容。</li><li>mustache-loader - 一个加载器，用来解析mustache模板。mustache模板十分有趣。</li></ul><p>这里我假定你不知道如何将上面的程序配合使用，别担心老兄。</p><h2 id="8-创建Angular程序入口，声明依赖以及全局配置"><a href="#8-创建Angular程序入口，声明依赖以及全局配置" class="headerlink" title="8.创建Angular程序入口，声明依赖以及全局配置"></a>8.创建Angular程序入口，声明依赖以及全局配置</h2><p>在<code>mysite/frontend/app/app.js</code>文件中：<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Libs */</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">"angular/angular"</span>);  </span><br><span class="line"><span class="built_in">require</span>(<span class="string">"angular-route/angular-route"</span>);  </span><br><span class="line"><span class="built_in">require</span>(<span class="string">"angular-resource/angular-resource"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Globals */</span></span><br><span class="line">_ = <span class="built_in">require</span>(<span class="string">"lodash"</span>);  </span><br><span class="line">_urlPrefixes = &#123;  </span><br><span class="line">  API: <span class="string">"api/v1/"</span>,</span><br><span class="line">  TEMPLATES: <span class="string">"static/app/"</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Components */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* App Dependencies */</span></span><br><span class="line">angular.module(<span class="string">"myApp"</span>, [  </span><br><span class="line">  <span class="string">"ngResource"</span>,</span><br><span class="line">  <span class="string">"ngRoute"</span>,</span><br><span class="line">]);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Config Vars */</span></span><br><span class="line"><span class="comment">// @TODO in Step 13.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* App Config */</span></span><br><span class="line">angular.module(<span class="string">"myApp"</span>).config(routesConfig);</span><br></pre></td></tr></table></figure><p></p><p><code>app.js</code>是Webpack寻找模块进行打包的入口点，我个人很欣赏这种声明的组织方式和函数调用方式，但这并不是必须的。这里有6部分：</p><ul><li>Libs - 所需要的通用库</li><li>Globals - 所需要的全局变量</li><li>Components - 项目需要的模块</li><li>App Dependencies - 声明程序入口名以及依赖</li><li>Config Vars - 配置变量，比如路由配置</li><li>App Config - 我们程序所需要的变量配置</li></ul><p>为了正常使用全局变量，你需要告诉ESLint哪些变量是全局的。编辑<code>mysite/frontend/config/eslint.json</code>文件：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;env&quot;: &#123;</span><br><span class="line">        &quot;node&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;extends&quot;: &quot;eslint:recommended&quot;,</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">        &quot;indent&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            2</span><br><span class="line">        ],</span><br><span class="line">        &quot;linebreak-style&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &quot;unix&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;quotes&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &quot;double&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;semi&quot;: [</span><br><span class="line">            &quot;error&quot;,</span><br><span class="line">            &quot;always&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;no-console&quot;: 0</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;globals&quot;: &#123;</span><br><span class="line">        &quot;_&quot;: true,</span><br><span class="line">        &quot;_urlPrefixes&quot;: true,</span><br><span class="line">        &quot;angular&quot;: true,</span><br><span class="line">        &quot;inject&quot;: true,</span><br><span class="line">        &quot;window&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;colors&quot;: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>我们告诉ESLint这里有几个全局变量：</p><ul><li><code>_</code>代表lodash</li><li><code>_urlPrefixes</code>是我们将在程序URL中使用的一个对象，我将晚些解释</li><li><code>angular</code>代表我们的应用中整个AngularJS对象</li><li><code>inject</code>将在Angular依赖注入时使用</li><li><code>window</code>代表JavaScript的<code>window</code>对象，这里代表了DOM</li></ul><h2 id="9-配置Webpack"><a href="#9-配置Webpack" class="headerlink" title="9.配置Webpack"></a>9.配置Webpack</h2><p>现在我们已经配置好了项目的依赖关系，可以创建Webpack配置文件了。Webpack将结合我们所依赖的所有文件和我们编写的模块进行打包。</p><p><em>编辑<code>mysite/frontend/webpack.config.js</code></em><br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;  </span><br><span class="line">    entry: <span class="string">"./app/app.js"</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: <span class="string">"./dist/js/"</span>,</span><br><span class="line">        filename: <span class="string">"bundle.js"</span>,</span><br><span class="line">        sourceMapFilename: <span class="string">"bundle.js.map"</span>,</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    watch: <span class="literal">true</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// eslint config</span></span><br><span class="line">    eslint: &#123;</span><br><span class="line">      configFile: <span class="string">'./config/eslint.json'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        preLoaders: [&#123;</span><br><span class="line">            test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">            exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">            loader: <span class="string">"eslint-loader"</span></span><br><span class="line">        &#125;],</span><br><span class="line">        loaders: [</span><br><span class="line">          &#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">loader</span>: <span class="string">"style!css"</span> &#125;,</span><br><span class="line">          &#123; <span class="attr">test</span>: <span class="regexp">/\.html$/</span>, <span class="attr">loader</span>: <span class="string">"mustache-loader"</span> &#125;,</span><br><span class="line">          &#123; <span class="attr">test</span>: <span class="regexp">/\.json$/</span>, <span class="attr">loader</span>: <span class="string">"json-loader"</span> &#125;]</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    resolve: &#123;</span><br><span class="line">        extensions: [<span class="string">''</span>, <span class="string">'.js'</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p></p><p>为了让Webpack能够打包我们的静态依赖文件，我们需要告诉他去哪里获取这些文件、哪些文件需要被处理以及打包前如何管理它们。</p><p>让我们概览一下你通过<code>webpack.config.js</code>告诉Webpack些什么了：</p><ul><li><code>entry</code>告诉Webpack从什么位置开始构建，这可以是一个绝对路径也可以是一个相对于<code>webpack.config.js</code>的相对路径。这里我使用后者。</li><li><code>output</code>是一个对象，其中<code>path</code>表示打包后文件存放的位置，<code>filename</code>则是文件名，这里我们还使用了<code>sourceMapFilename</code>来指明什么source map应该被调用。</li><li><code>watch</code>告诉Webpack在它运行时监控文件的变动，如果没设置成<code>true</code>，Webpack将仅打包一次并退出。</li><li><code>eslint</code>包含ESLint具体的配置，用于<code>eslint-loader</code>。</li><li><code>module</code>用于告诉Webpack如何处理模块。</li><li><code>module.preLoaders</code>说明在打包前需要做什么，这里我们使用eslint去运行我们的模块。</li><li><code>module.loaders</code>指定加载器的序列，这里我仅设定了<code>test</code>和<code>loader</code>。<code>test</code>表明哪些模块需要运行加载器(通过正则表达式匹配文件名)，<code>loader</code>则表明哪一个加载器将被使用。每个加载器都是字符串并且使用感叹号作为标记，比如<code>loader!another_loader!yet_another_loader</code>。</li></ul><p><em>但是老兄，preLoaders和loaders又特么的有什么区别？？？</em> 我假设你问了这个问题，爱骂人的朋友。</p><p><strong><em>A preLoader</em></strong> 是在加载器运行之前执行的代码，这里我们检查JavaScript语法。</p><p><strong><em>A loader</em></strong> 告诉Webpack如何打包 <em>require()</em> 文件。一个加载器就好象一个模块，说“当你打包这些文件到一个文件时，这些字符串应该如何转换”</p><p><strong><em>A postLoader</em></strong> 是一个Webpack插件在打包完成后运行，为了简单这里我们没指定postLoader。</p><h2 id="10-告诉Django加载App"><a href="#10-告诉Django加载App" class="headerlink" title="10.告诉Django加载App"></a>10.告诉Django加载App</h2><p>现在，你已经配置了Webpack什么需要创建并如何创建了。(见鬼，此时此刻，如果你运行Webpack命令并且不报错，我会十分惊讶。如果真的成功了，我就是王八蛋。)</p><p>自从Django加强了URL管理后，我们常常在Django的摆布下管理用户在本地浏览器中访问的路径。然而我们现在使用另一个框架构建了一个单页面程序，并且希望拥有完全控制用户输入的能力，我们需要的仅仅是Django服务这个单页面程序正常运行。因此……</p><p><em>编辑<code>mysite/backend/mysite/mysite/urls.py</code>添加下列代码到<code>urlpatterns</code>中</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Web App Entry</span></span><br><span class="line">url(<span class="string">r'^$'</span>, TemplateView.as_view(template_name=<span class="string">"app/index.html"</span>), name=<span class="string">'index'</span>),</span><br></pre></td></tr></table></figure><p>这意味着在用户访问<code>mysite.com/</code>时，<code>env(&#39;FRONTEND_ROOT&#39;) + app/index.html</code>将被<code>STATICFILES_FINDERS</code>找到并渲染成普通HTML模板。</p><h2 id="11-创建Angular-app模板"><a href="#11-创建Angular-app模板" class="headerlink" title="11.创建Angular app模板"></a>11.创建Angular app模板</h2><p>我们的<code>mysite/frontend/app/components/app/index.html</code>看起来就像一个常规的Django模板：<br></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% load staticfiles %&#125;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>My Site<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"&#123;% static 'dist/js/bundle.js' %&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>在此时，你应该能运行Webpack了。如果你运行了Django服务并访问<code>localhost:8000</code>将会看到一个空白页面。如果没有，请让我知道。</p><h2 id="12-写一个home组件"><a href="#12-写一个home组件" class="headerlink" title="12.写一个home组件"></a>12.写一个home组件</h2><p>让我们来编写第一个组件，它将在页面上展示文字当用户访问<code>localhost:8000</code>时。</p><p><em>创建components目录和基本文件在<code>frontend/app/components/</code>中</em><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir home &amp;&amp; touch home/home-controller.js home/home.js home/home.html</span><br></pre></td></tr></table></figure><p></p><p><em>编辑<code>mysite/frontend/app/components/home/home.html</code></em><br></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"HomeController as ctrl"</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Home!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>接下来编写<code>mysite/frontend/app/components/home/home-controller.js</code>文件：<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">HomeController</span>(<span class="params"></span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">  that.foo = <span class="string">"Foo!"</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(that); <span class="comment">// should print out the controller object</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">angular.module(<span class="string">"Home"</span>)  </span><br><span class="line">  .controller(<span class="string">"HomeController"</span>, [</span><br><span class="line">    HomeController</span><br><span class="line">  ]);</span><br></pre></td></tr></table></figure><p></p><p>关于<code>var that = this</code>可以参考<a href="http://krslynx.com/2016/07/11/This-that-and-the-Other.html" target="_blank" rel="noopener">另一文章</a></p><p>Angular模块定义应该在<code>home.js</code>中被声明：<br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">angular.module(<span class="string">"Home"</span>, []);</span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span>(<span class="string">"./home-controller"</span>);</span><br></pre></td></tr></table></figure><p></p><p>现在我们可以在定义模块依赖的地方指明”Home”了，让我们动手吧。</p><p>编辑<code>mysite/frontend/app/app.js</code>文件：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Components */</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">"./components/home/home"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* App Dependencies */</span></span><br><span class="line">angular.module(<span class="string">"myApp"</span>, [  </span><br><span class="line">  <span class="string">"Home"</span>, <span class="comment">// this is our component</span></span><br><span class="line">  <span class="string">"ngResource"</span>,</span><br><span class="line">  <span class="string">"ngRoute"</span></span><br><span class="line">]);</span><br></pre></td></tr></table></figure><h2 id="13-为home组件和404页面编写路由"><a href="#13-为home组件和404页面编写路由" class="headerlink" title="13.为home组件和404页面编写路由"></a>13.为home组件和404页面编写路由</h2><p>现在我们来配置路由，当用户访问<code>localhost:8000</code>时，Angular应该在Django渲染模板后接手控制。为了实现这一点，我们使用<code>angular-router</code>。</p><p><em>编辑<code>mysite/frontend/app/routes.js</code>文件</em><br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">routesConfig</span>(<span class="params">$routeProvider</span>) </span>&#123;  </span><br><span class="line">  $routeProvider</span><br><span class="line">    .when(<span class="string">"/"</span>, &#123;</span><br><span class="line">      templateUrl: _urlPrefixes.TEMPLATES + <span class="string">"components/home/home.html"</span>,</span><br><span class="line">      label: <span class="string">"Home"</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .otherwise(&#123;</span><br><span class="line">      templateUrl: _urlPrefixes.TEMPLATES + <span class="string">"404.html"</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">routesConfig.$inject = [<span class="string">"$routeProvider"</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = routesConfig;</span><br></pre></td></tr></table></figure><p></p><p>如果我们不添加<code>_urlPrefixes.TEMPLATES</code>，angular-router将认为<code>components/home/home.html</code>是一个服务器提供的实际URL路径，因为Django中配置了<code>STATIC_URL</code>，<code>localhost:8000/components/home/home.html</code>将不会正常工作。</p><p>同样，你应该注意到了<code>otherwise({...})</code>配置，这是用来控制404页面的。</p><p><em>编辑<code>mysite/frontend/app/404.html</code></em></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>NOT FOUND<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><p><em>最终在<code>mysite/frontend/app/app.js</code>添加如下代码</em><br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Config Vars */</span></span><br><span class="line"><span class="keyword">var</span> routesConfig = <span class="built_in">require</span>(<span class="string">"./routes"</span>);</span><br></pre></td></tr></table></figure><p></p><h2 id="14-在入口页面添加angular-router指令"><a href="#14-在入口页面添加angular-router指令" class="headerlink" title="14.在入口页面添加angular-router指令"></a>14.在入口页面添加angular-router指令</h2><p>现在我们需要告诉Angular在用户点击导航时如何切换页面。为了做的这点，我们需要利用angular-router。</p><p><em>在<code>mysite/frontend/app/index.html</code>的<head><meta name="generator" content="Hexo 3.9.0">标签中添加下列代码</head></em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;base href=&quot;/&quot;&gt;</span><br></pre></td></tr></table></figure><p><em>在<body>中添加</body></em><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div ng-view&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><p></p><p><em>你的<code>index.html</code>看起来应该类似这样：</em></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% load staticfiles %&#125;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">ng-app</span>=<span class="string">"myApp"</span>&gt;</span>  </span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>My Site<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"&#123;% static 'dist/js/bundle.js' %&#125;"</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">base</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-view</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>运行Webpack命令，访问<code>localhost:8000</code>,你应该看到<code>home/home.html</code>中的内容了。(如果没有让我知道)</p><h2 id="15-结合REST-API和Angular-app"><a href="#15-结合REST-API和Angular-app" class="headerlink" title="15.结合REST API和Angular app"></a>15.结合REST API和Angular app</h2><p>如果上面的都没问题，现在应该可以为Django API写Angular服务了。让我们来编写一个简单的组件，这个组件用来展示游戏列表，我假设你已经在数据库中添加了数据，访问<code>localhost:8000/api/v1/games</code>可以得到游戏列表。</p><p><em>在<code>frontend/app/components/</code>中创建组件</em><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p game/list/ &amp;&amp; touch game/list/game-list-controller.js game/list/game-list-controller_test.js game/game-service.js game/game.js game/game.html</span><br></pre></td></tr></table></figure><p></p><p><em>编辑<code>game/game-service.js</code></em><br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GameService</span>(<span class="params">$resource</span>) </span>&#123;  </span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * @name GameService</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   * @description</span></span><br><span class="line"><span class="comment">   * A service providing game data.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * A resource for retrieving game data.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  that.GameResource = $resource(_urlPrefixes.API + <span class="string">"games/:game_id/"</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * A convenience method for retrieving Game objects.</span></span><br><span class="line"><span class="comment">   * Retrieval is done via a GET request to the ../games/ endpoint.</span></span><br><span class="line"><span class="comment">   * @param &#123;object&#125; params - the query string object used for a GET request to ../games/ endpoint</span></span><br><span class="line"><span class="comment">   * @returns &#123;object&#125; $promise - a promise containing game-related data</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  that.getGames = <span class="function"><span class="keyword">function</span>(<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> that.GameResource.query(params).$promise;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">angular.module(<span class="string">"Game"</span>)  </span><br><span class="line">  .service(<span class="string">"GameService"</span>, [<span class="string">"$resource"</span>, GameService]);</span><br></pre></td></tr></table></figure><p></p><p>注意<code>$resource</code>的配置，这就是之前设定的HTTP请求的路径。</p><p><em>编辑<code>game/list/game-list-controller.js</code></em><br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GameListController</span>(<span class="params">GameService</span>) </span>&#123;  </span><br><span class="line">  <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* Stored game objects. */</span></span><br><span class="line">  that.games = [];</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Initialize the game list controller.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  that.init = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> GameService.getGames().then(<span class="function"><span class="keyword">function</span>(<span class="params">games</span>) </span>&#123;</span><br><span class="line">      that.games = games;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">angular.module(<span class="string">"Game"</span>)  </span><br><span class="line">  .controller(<span class="string">"GameListController"</span>, [</span><br><span class="line">    <span class="string">"GameService"</span>,</span><br><span class="line">    GameListController</span><br><span class="line">  ]);</span><br></pre></td></tr></table></figure><p></p><p><em>编辑<code>game/game.html</code></em><br></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"GameListController as ctrl"</span> <span class="attr">ng-init</span>=<span class="string">"ctrl.init()"</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Games<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- Test List --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"game in ctrl.games"</span>&gt;</span>&#123;&#123; game.title &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p><em>编辑<code>game/game.js</code></em><br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">angular.module(<span class="string">"Game"</span>, []);</span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span>(<span class="string">"./list/game-list-controller"</span>);  </span><br><span class="line"><span class="built_in">require</span>(<span class="string">"./game-service"</span>);</span><br></pre></td></tr></table></figure><p></p><p>接下来修改<code>app.js</code>：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Components */</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">"./components/game/game"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* App Dependencies */</span></span><br><span class="line">angular.module(<span class="string">"myApp"</span>, [  </span><br><span class="line">  <span class="string">"Home"</span>,</span><br><span class="line">  <span class="string">"Game"</span>,</span><br><span class="line">  <span class="string">"ngResource"</span>,</span><br><span class="line">  <span class="string">"ngRoute"</span></span><br><span class="line">]);</span><br></pre></td></tr></table></figure><p>最终，我们还需要游戏列表配置路由，在<code>mysite/frontend/app/routes.js</code>文件中添加下面的<code>$routeProvider</code>对象;<br></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.when(<span class="string">"/game"</span>, &#123;</span><br><span class="line">  templateUrl: _urlPrefixes.TEMPLATES + <span class="string">"components/game/list/game-list.html"</span>,</span><br><span class="line">  label: <span class="string">"Games"</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p></p><p>再次运行webpack，所有编译都应该成功，如果没有，请让我知道。</p><p>访问<code>localhost:8000/#/games</code>你将看到游戏列表。</p><hr><p>关于非主要部分这里我就不翻译了，各位可以去原博客中评论或提问。</p></div></div><div id="post-footer" class="post-footer main-content-wrap"><div class="post-footer-tags"><span class="text-color-light text-small">标签</span><br><a class="tag tag--primary tag--small t-link" href="/source/all-tags/angular/">angular</a> <a class="tag tag--primary tag--small t-link" href="/source/all-tags/django/">django</a> <a class="tag tag--primary tag--small t-link" href="/source/all-tags/webpack/">webpack</a></div><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2016/12/20/将Django模板变量传递给外部JS调用的几种方式/" data-tooltip="将Django模板变量传递给外部JS调用的几种方式"><i class="fa fa-angle-left"></i> <span class="hide-xs hide-sm text-small icon-ml">上一篇</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2016/10/13/django解析用户上传的excel文件/" data-tooltip="django解析用户上传的excel文件"><span class="hide-xs hide-sm text-small icon-mr">下一篇</span> <i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions"><i class="fa fa-share-alt"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-facebook-official"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-twitter"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-google-plus"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://service.weibo.com/share/share.php?&amp;title=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-weibo"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/&amp;title=我特么是如何利用Django, Django REST Framework, Angular 1.1.x和Webpack构建一个项目的"><i class="fa fa-qq"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-star"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://widget.renren.com/dialog/share?resourceUrl=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-renren"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#"><i class="fa fa-list"></i></a></li></ul></div></div></article><footer id="footer" class="main-content-wrap"><span class="copyrights">Copyrights &copy; 2019 Roy. All Rights Reserved.</span></footer></div><div id="bottom-bar" class="post-bottom-bar" data-behavior="4"><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2016/12/20/将Django模板变量传递给外部JS调用的几种方式/" data-tooltip="将Django模板变量传递给外部JS调用的几种方式"><i class="fa fa-angle-left"></i> <span class="hide-xs hide-sm text-small icon-ml">上一篇</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2016/10/13/django解析用户上传的excel文件/" data-tooltip="django解析用户上传的excel文件"><span class="hide-xs hide-sm text-small icon-mr">下一篇</span> <i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions"><i class="fa fa-share-alt"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-facebook-official"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-twitter"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-google-plus"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://service.weibo.com/share/share.php?&amp;title=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-weibo"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/&amp;title=我特么是如何利用Django, Django REST Framework, Angular 1.1.x和Webpack构建一个项目的"><i class="fa fa-qq"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-star"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://widget.renren.com/dialog/share?resourceUrl=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-renren"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#"><i class="fa fa-list"></i></a></li></ul></div></div><div id="share-options-bar" class="share-options-bar" data-behavior="4"><i id="btn-close-shareoptions" class="fa fa-close"></i><ul class="share-options"><li class="share-option"><a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-facebook-official"></i><span>分享到 Facebook</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-twitter"></i><span>分享到 Twitter</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-google-plus"></i><span>分享到 Google+</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="http://service.weibo.com/share/share.php?&amp;title=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-weibo"></i><span>分享到 Weibo</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/&amp;title=我特么是如何利用Django, Django REST Framework, Angular 1.1.x和Webpack构建一个项目的"><i class="fa fa-qq"></i><span>分享到 QQ</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-star"></i><span>分享到 Qzone</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="http://widget.renren.com/dialog/share?resourceUrl=http://www.hi-roy.com/2016/11/08/我特么是如何利用Django-Django-REST-Framework-Angular-1-1-x和Webpack构建一个项目的/"><i class="fa fa-renren"></i><span>分享到 Renren</span></a></li></ul></div></div><div id="about"><div id="about-card"><div id="about-btn-close"><i class="fa fa-remove"></i></div><img id="about-card-picture" src="/assets/images/my.jpg" alt="作者的图片"><h4 id="about-card-name">Roy</h4><div id="about-card-bio"><p>君以国士待我，我必以国士报君。</p></div><div id="about-card-job"><i class="fa fa-briefcase"></i><br><p>野生程序猿</p></div><div id="about-card-location"><i class="fa fa-map-marker"></i><br>China</div></div></div><div id="algolia-search-modal" class="modal-container"><div class="modal"><div class="modal-header"><span class="close-button"><i class="fa fa-close"></i></span> <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled"><span class="searchby-algolia-text text-color-light text-small">by</span> <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg"> </a><i class="search-icon fa fa-search"></i><form id="algolia-search-form"><input type="text" id="algolia-search-input" name="search" class="form-control input--large search-input" placeholder="Search "></form></div><div class="modal-body"><div class="no-result text-color-light text-center">没有找到文章</div><div class="results"><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/02/12/Ubuntu下Gogant的简易破墙术/"><h3 class="media-heading">Ubuntu下Gogant的简易破墙术</h3></a><span class="media-meta"><span class="media-date text-small">2013年2月12日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/10/31/python常用第三方库-转载/"><h3 class="media-heading">Python常用第三方库(转载)</h3></a><span class="media-meta"><span class="media-date text-small">2013年10月31日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/fedora19安装ar8161网卡驱动/"><h3 class="media-heading">fedora19安装ar8161网卡驱动</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/fedora19源，rpmforge，fastestmirror/"><h3 class="media-heading">fedora19源，rpmforge，fastestmirror</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/python中如何自定义解析域名/"><h3 class="media-heading">python中如何自定义解析域名</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/django版本更换/"><h3 class="media-heading">django版本更换</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/django-groundwork个人1-5-3修改版/"><h3 class="media-heading">django-groundwork个人1.5.3修改版</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/fedora19美化/"><h3 class="media-heading">fedora19美化</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/装饰器/"><h3 class="media-heading">装饰器</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/SVN常用操作/"><h3 class="media-heading">SVN常用操作</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div></div></div><div class="modal-footer"><p class="results-count text-medium" data-message-zero="没有找到文章" data-message-one="找到 1 篇文章" data-message-other="找到 {n} 篇文章">找到 214 篇文章</p></div></div></div><div id="cover" style="background-image:url(/assets/images/cover.jpg)"></div><script src="/assets/js/script-ivwiy10zeb8fifc4swnhkwneuk64y53w2scmdmtp8thi9cqfxh31aowtroaz.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script><script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script><script>var algoliaClient=algoliasearch("51U8PIBLP6","16909d9ce1780cda71113841864e7aa8"),algoliaIndex=algoliaClient.initIndex("my-blog")</script></body></html>