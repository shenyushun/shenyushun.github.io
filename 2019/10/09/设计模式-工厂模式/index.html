<!DOCTYPE html><html lang="zh-cn"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="Hi!Roy!"><title>设计模式-工厂模式 - Hi!Roy!</title><meta name="author" content="Roy"><link rel="icon" href="http://www.hi-roy.com/assets/images/favicon.ico"><link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml"><meta name="description" content="工厂模式又可以分为工厂方法模式和抽象工厂模式。工厂方法模式(Factory Method Pattern)工厂模式是指：定义一个接口用户创建对象，让子类决定实例化哪一个类。工厂模式中存在4个角色：抽象工厂具体工厂抽象产品具体产品抽象工厂产生抽象产品，具体工厂生产具体产品。 这句话很重要，理解了这句话就理解了工厂方法模式。"><meta name="keywords" content="设计模式"><meta property="og:type" content="blog"><meta property="og:title" content="设计模式-工厂模式"><meta property="og:url" content="http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/index.html"><meta property="og:site_name" content="Hi!Roy!"><meta property="og:description" content="工厂模式又可以分为工厂方法模式和抽象工厂模式。工厂方法模式(Factory Method Pattern)工厂模式是指：定义一个接口用户创建对象，让子类决定实例化哪一个类。工厂模式中存在4个角色：抽象工厂具体工厂抽象产品具体产品抽象工厂产生抽象产品，具体工厂生产具体产品。 这句话很重要，理解了这句话就理解了工厂方法模式。"><meta property="og:locale" content="zh-cn"><meta property="og:updated_time" content="2019-10-14T06:52:41.350Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="设计模式-工厂模式"><meta name="twitter:description" content="工厂模式又可以分为工厂方法模式和抽象工厂模式。工厂方法模式(Factory Method Pattern)工厂模式是指：定义一个接口用户创建对象，让子类决定实例化哪一个类。工厂模式中存在4个角色：抽象工厂具体工厂抽象产品具体产品抽象工厂产生抽象产品，具体工厂生产具体产品。 这句话很重要，理解了这句话就理解了工厂方法模式。"><meta property="og:image" content="http://www.hi-roy.com/assets/images/my.jpg"><link rel="stylesheet" href="/assets/css/style-sxklfps8ywgfyyjcowvnb4gxdgt0zjts3hsguljmv9uqanxjbnitrovtbrek.min.css"><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?21513ec2bcd577b3297a1b16da82fa40";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body><div id="blog"><header id="header" data-behavior="4"><i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i><div class="header-title"><a class="header-title-link" href="/">Hi!Roy!</a></div><a class="header-right-icon" href="#about"><i class="fa fa-lg fa-question"></i></a></header><nav id="sidebar" data-behavior="4"><div class="sidebar-container"><div class="sidebar-profile"><a href="/#about"><img class="sidebar-profile-picture" src="/assets/images/my.jpg" alt="作者的图片"></a><h4 class="sidebar-profile-name">Roy</h4><h5 class="sidebar-profile-bio"><p>君以国士待我，我必以国士报君。</p></h5></div><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/"><i class="sidebar-button-icon fa fa-lg fa-home"></i> <span class="sidebar-button-desc">首页</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-categories"><i class="sidebar-button-icon fa fa-lg fa-bookmark"></i> <span class="sidebar-button-desc">分类</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-tags"><i class="sidebar-button-icon fa fa-lg fa-tags"></i> <span class="sidebar-button-desc">标签</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="/all-archives"><i class="sidebar-button-icon fa fa-lg fa-archive"></i> <span class="sidebar-button-desc">归档</span></a></li><li class="sidebar-button"><a class="sidebar-button-link open-algolia-search" href="#search"><i class="sidebar-button-icon fa fa-lg fa-search"></i> <span class="sidebar-button-desc">搜索</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="#about"><i class="sidebar-button-icon fa fa-lg fa-question"></i> <span class="sidebar-button-desc">关于</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="https://github.com/shenyushun" target="_blank" rel="noopener"><i class="sidebar-button-icon fa fa-lg fa-github"></i> <span class="sidebar-button-desc">GitHub</span></a></li><li class="sidebar-button"><a class="sidebar-button-link" href="mailto:darkcooking@gmail.com" target="_blank" rel="noopener"><i class="sidebar-button-icon fa fa-lg fa-envelope-o"></i> <span class="sidebar-button-desc">邮箱</span></a></li></ul><ul class="sidebar-buttons"><li class="sidebar-button"><a class="sidebar-button-link" href="/atom.xml"><i class="sidebar-button-icon fa fa-lg fa-rss"></i> <span class="sidebar-button-desc">RSS</span></a></li></ul></div></nav><div id="main" data-behavior="4" class="hasCoverMetaIn"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><div class="post-header main-content-wrap text-left"><h1 class="post-title" itemprop="headline">设计模式-工厂模式</h1><div class="post-meta"><time itemprop="datePublished" datetime="2019-10-09T16:58:08+08:00">10月 09, 2019 </time><span>发布在 </span><a class="category-link" href="/source/all-categories/设计模式/">设计模式</a></div></div><div class="post-content markdown" itemprop="articleBody"><div class="main-content-wrap"><p>工厂模式又可以分为工厂方法模式和抽象工厂模式。</p><h2 id="工厂方法模式-Factory-Method-Pattern"><a href="#工厂方法模式-Factory-Method-Pattern" class="headerlink" title="工厂方法模式(Factory Method Pattern)"></a>工厂方法模式(Factory Method Pattern)</h2><p>工厂模式是指：定义一个接口用户创建对象，让子类决定实例化哪一个类。</p><p>工厂模式中存在4个角色：</p><ol><li>抽象工厂</li><li>具体工厂</li><li>抽象产品</li><li>具体产品</li></ol><p><strong>抽象工厂产生抽象产品，具体工厂生产具体产品。</strong> 这句话很重要，理解了这句话就理解了工厂方法模式。</p><a id="more"></a><p>看定义还是略微抽象，这里我们以客户购买汽水为例，初学编程的人很有可能出现类似下面的代码段：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> require <span class="keyword">string</span></span><br><span class="line">	fmt.Printf(<span class="string">"Please enter your choice(cola,spirte,fanta): "</span>)</span><br><span class="line">	fmt.Scanln(&amp;require)</span><br><span class="line">	<span class="keyword">if</span> require == <span class="string">"cola"</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"this is cola"</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> require == <span class="string">"sprite"</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"this is sprite"</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> require == <span class="string">"fanta"</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"this is fanta"</span>)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(<span class="string">"What you want?"</span>)        </span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这段代码很好理解，用户输入他想要购买的汽水，然后程序返回他的选择，如果用户输入的不在上述3个选择内就报错<code>What you want?</code>。但基本上没有可维护性、扩展性，也不能方便的进行复用。为了实现高内聚低耦合的目标，我们做一些修改：</p><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> showname <span class="keyword">interface</span> &#123;</span><br><span class="line">    show()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> cola <span class="keyword">struct</span> &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e cola)</span> <span class="title">show</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"this is cola"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> sprite <span class="keyword">struct</span> &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e sprite)</span> <span class="title">show</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"this is sprite"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> fanta <span class="keyword">struct</span> &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e fanta)</span> <span class="title">show</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">"this is fanta"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> factory <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e factory)</span> <span class="title">showname</span><span class="params">(name <span class="keyword">string</span>)</span> <span class="title">showname</span></span> &#123;</span><br><span class="line">	<span class="keyword">switch</span> name &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"cola"</span>:</span><br><span class="line">		<span class="keyword">return</span> cola&#123;&#125;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"sprite"</span>:</span><br><span class="line">		<span class="keyword">return</span> sprite&#123;&#125;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"fanta"</span>:</span><br><span class="line">		<span class="keyword">return</span> fanta&#123;&#125;</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">panic</span>(<span class="string">"What you want?"</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> require <span class="keyword">string</span></span><br><span class="line">	fmt.Printf(<span class="string">"Please enter your choice(cola,spirte,fanta): "</span>)</span><br><span class="line">	fmt.Scanln(&amp;require)</span><br><span class="line">	fac := factory&#123;&#125;</span><br><span class="line">	fac.showname(require).show()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>由于golang中没有类、继承相关的概念，所以这里使用struct和interface来实现。采用上面这种修改后，看上去更复杂了，但却提高了代码的复用率。如果以后有其他地方也要用到这个功能，直接调用factory即可，而不是把那堆<code>if...else</code>复制过去。这种写法还有个学名叫做 <strong>简单工厂模式</strong> ，这个模式优点是工厂类中包含了逻辑判断，根据调用方传入的参数动态实例化相关的类，如果需要修改功能不需要修改调用方的代码。但问题也在这里，如果要新增一个类，那么是要修改<code>case</code>分支条件的，修改原有的类<strong>违反了开闭原则</strong>,这时候就该工厂方法模式出场了：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象工厂</span></span><br><span class="line"><span class="keyword">type</span> showFactory <span class="keyword">interface</span> &#123;</span><br><span class="line">	info() saleinfo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体工厂</span></span><br><span class="line"><span class="keyword">type</span> showColaFactory <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s showColaFactory)</span> <span class="title">info</span><span class="params">()</span> <span class="title">saleinfo</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> cola&#123;soda:soda&#123;name:<span class="string">"cola"</span>,price:<span class="number">5</span>&#125;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体工厂</span></span><br><span class="line"><span class="keyword">type</span> showSpriteFactory <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s showSpriteFactory)</span> <span class="title">info</span><span class="params">()</span> <span class="title">saleinfo</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> cola&#123;soda:soda&#123;name:<span class="string">"sprite"</span>,price:<span class="number">5</span>&#125;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体工厂</span></span><br><span class="line"><span class="keyword">type</span> showFantaFactory <span class="keyword">struct</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s showFantaFactory)</span> <span class="title">info</span><span class="params">()</span> <span class="title">saleinfo</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> fanta&#123;soda:soda&#123;name:<span class="string">"fanta"</span>,price:<span class="number">5</span>&#125;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象产品</span></span><br><span class="line"><span class="keyword">type</span> saleinfo <span class="keyword">interface</span> &#123;</span><br><span class="line">	getname()</span><br><span class="line">	getprice()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> soda <span class="keyword">struct</span> &#123;</span><br><span class="line">	name  <span class="keyword">string</span></span><br><span class="line">	price <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//具体产品</span></span><br><span class="line"><span class="keyword">type</span> cola <span class="keyword">struct</span> &#123;</span><br><span class="line">	soda</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e cola)</span> <span class="title">getname</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"this is %s"</span>, e.name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e cola)</span> <span class="title">getprice</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"price is %d"</span>, e.price)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//具体产品</span></span><br><span class="line"><span class="keyword">type</span> sprite <span class="keyword">struct</span> &#123;</span><br><span class="line">	soda</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e sprite)</span> <span class="title">getname</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"this is %s"</span>, e.name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e sprite)</span> <span class="title">getprice</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"price is %d"</span>, e.price)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//具体产品</span></span><br><span class="line"><span class="keyword">type</span> fanta <span class="keyword">struct</span> &#123;</span><br><span class="line">	soda</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e fanta)</span> <span class="title">getname</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"this is %s"</span>, e.name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e fanta)</span> <span class="title">getprice</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"price is %d"</span>, e.price)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> require <span class="keyword">string</span></span><br><span class="line">	fmt.Printf(<span class="string">"Please enter your choice(cola,spirte,fanta): "</span>)</span><br><span class="line">	fmt.Scanln(&amp;require)</span><br><span class="line">	<span class="keyword">var</span> s saleinfo</span><br><span class="line">	<span class="keyword">switch</span> require &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"cola"</span>:</span><br><span class="line">		s = showColaFactory&#123;&#125;.info()</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"sprite"</span>:</span><br><span class="line">		s = showSpriteFactory&#123;&#125;.info()</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"fanta"</span>:</span><br><span class="line">		s = showFantaFactory&#123;&#125;.info()		</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		<span class="built_in">panic</span>(<span class="string">"what you want?"</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	s.getname()</span><br><span class="line">	s.getprice()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>WoW，代码更复杂了，但这样修改后，如果以后需要新增一个新的<code>juice</code>，只需新增相关的具体工厂和具体产品即可，不用修改原来的工厂类，符合了开闭原则。不过，这种方法把判断逻辑又丢给了调用方，有没有什么办法更进一步呢？答案就是抽象工厂模式，这个下面再说。</p><h3 id="工厂方法模式应用场景"><a href="#工厂方法模式应用场景" class="headerlink" title="工厂方法模式应用场景"></a>工厂方法模式应用场景</h3><ol><li>当子类型有很多，以后需要不断添加不同子类实现时。</li><li>一个系统在框架设计阶段，还不知道将来需要实例化哪些具体子类时。</li><li>系统设计之初不需要具体对象的概念或没有具体对象的概念。</li></ol><h2 id="抽象工厂模式-Abstract-Factory-Pattern"><a href="#抽象工厂模式-Abstract-Factory-Pattern" class="headerlink" title="抽象工厂模式(Abstract Factory Pattern)"></a>抽象工厂模式(Abstract Factory Pattern)</h2><p>抽象工厂模式：提供一个接口，用于创建相关或依赖对象的家族，而不需要指定具体实现类。</p><p>进一步说，抽象工厂模式中调用方使用抽象接口来创建一组相关产品，实现了与工厂类的解耦。我们将卖汽水的例子复杂化一点，可以在汽水中加冰，那么用抽象工厂模式写法就变成了：</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象汽水基类</span></span><br><span class="line"><span class="keyword">type</span> soda <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="keyword">string</span></span><br><span class="line">	price <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> sodaInfo <span class="keyword">interface</span> &#123;</span><br><span class="line">	buy()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象可乐基类，继承soda并实现sodaInfo接口</span></span><br><span class="line"><span class="keyword">type</span> cola <span class="keyword">struct</span> &#123;</span><br><span class="line">	soda</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e cola)</span> <span class="title">buy</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"this is %s \n"</span>, e.name)</span><br><span class="line">	fmt.Printf(<span class="string">"price is %d \n"</span>, e.price)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 具体可乐类，加冰</span></span><br><span class="line"><span class="keyword">type</span> colaIce <span class="keyword">struct</span> &#123;</span><br><span class="line">	cola</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象雪碧基类，继承soda并实现sodaInfo接口</span></span><br><span class="line"><span class="keyword">type</span> sprite <span class="keyword">struct</span> &#123;</span><br><span class="line">	soda</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e sprite)</span> <span class="title">buy</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"this is %s \n"</span>, e.name)</span><br><span class="line">	fmt.Printf(<span class="string">"price is %d \n"</span>, e.price)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 具体雪碧类，加冰</span></span><br><span class="line"><span class="keyword">type</span> spriteIce <span class="keyword">struct</span> &#123;</span><br><span class="line">	sprite</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象芬达基类，继承soda并实现sodaInfo接口</span></span><br><span class="line"><span class="keyword">type</span> fanta <span class="keyword">struct</span> &#123;</span><br><span class="line">	soda</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e fanta)</span> <span class="title">buy</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Printf(<span class="string">"this is %s \n"</span>, e.name)</span><br><span class="line">	fmt.Printf(<span class="string">"price is %d \n"</span>, e.price)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 具体芬达类，加冰</span></span><br><span class="line"><span class="keyword">type</span> fantaIce <span class="keyword">struct</span> &#123;</span><br><span class="line">	fanta</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 抽象汽水工厂，注意里面都是生产抽象汽水</span></span><br><span class="line"><span class="keyword">type</span> sodaAbsFactory <span class="keyword">interface</span> &#123;</span><br><span class="line">	createCola() sodaInfo</span><br><span class="line">	createSprite() sodaInfo</span><br><span class="line">	createFanta() sodaInfo</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 具体汽水工厂，生产具体汽水，实现抽象汽水工厂接口</span></span><br><span class="line"><span class="keyword">type</span> sodaFactory <span class="keyword">struct</span> &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s sodaFactory)</span> <span class="title">createCola</span><span class="params">()</span> <span class="title">sodaInfo</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> colaIce&#123;</span><br><span class="line">		cola:cola&#123;</span><br><span class="line">			soda:soda&#123;name:<span class="string">"cola_with_ice"</span>,price: <span class="number">10</span>&#125;,</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s sodaFactory)</span> <span class="title">createSprite</span><span class="params">()</span> <span class="title">sodaInfo</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> colaIce&#123;</span><br><span class="line">		cola:cola&#123;</span><br><span class="line">			soda:soda&#123;name:<span class="string">"sprice_with_ice"</span>,price: <span class="number">12</span>&#125;,</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(s sodaFactory)</span> <span class="title">createFanta</span><span class="params">()</span> <span class="title">sodaInfo</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> colaIce&#123;</span><br><span class="line">		cola:cola&#123;</span><br><span class="line">			soda:soda&#123;name:<span class="string">"fanta_with_ice"</span>,price: <span class="number">8</span>&#125;,</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 消费者类，需要买汽水时候向汽水工厂请求</span></span><br><span class="line"><span class="keyword">type</span> customer <span class="keyword">struct</span> &#123;</span><br><span class="line">	sodafac sodaAbsFactory</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c customer)</span> <span class="title">Buycola</span><span class="params">()</span></span> &#123;</span><br><span class="line">	c.sodafac.createCola().buy()</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c customer)</span> <span class="title">Buysprite</span><span class="params">()</span></span> &#123;</span><br><span class="line">	c.sodafac.createSprite().buy()</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(c customer)</span> <span class="title">Buyfanta</span><span class="params">()</span></span> &#123;</span><br><span class="line">	c.sodafac.createFanta().buy()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	c := customer&#123;sodafac: sodaFactory&#123;&#125;&#125; <span class="comment">// 创建消费者，并把汽水工厂传递进去</span></span><br><span class="line">	<span class="keyword">var</span> require <span class="keyword">string</span></span><br><span class="line">	fmt.Printf(<span class="string">"Please enter your choice(cola,spirte,fanta): "</span>)</span><br><span class="line">	fmt.Scanln(&amp;require)</span><br><span class="line">	<span class="keyword">switch</span> require &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"cola"</span>:</span><br><span class="line">		c.buyCola()</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"sprite"</span>:</span><br><span class="line">		c.buySprite()</span><br><span class="line">	<span class="keyword">case</span> <span class="string">"fanta"</span>:</span><br><span class="line">		c.buyFanta()</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		<span class="built_in">panic</span>(<span class="string">"what you want?"</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>似乎更更更复杂了，但假设突然需要更换另一家卖汽水的，调用方仅仅修改创建消费者那行代码就可以了。（这里别陷入误区：改1行代码和改100行代码可不是一回事，减少修改!=不修改。）至于判断逻辑的问题，可以使用反射来解决：<br></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> require <span class="keyword">string</span></span><br><span class="line">	fmt.Printf(<span class="string">"Please enter your choice(cola,spirte,fanta): "</span>)</span><br><span class="line">	fmt.Scanln(&amp;require)</span><br><span class="line">	methodName := fmt.Sprintf(<span class="string">"Buy%s"</span>,require)</span><br><span class="line">	c := customer&#123;sodafac: sodaFactory&#123;&#125;&#125; <span class="comment">// 创建消费者，并把汽水工厂传递进去</span></span><br><span class="line">	getValue := reflect.ValueOf(c)</span><br><span class="line">	methodValue := getValue.MethodByName(methodName) <span class="comment">// 注意所有的函数名都要大写开头，否则reflect找不到对应的函数会报错！</span></span><br><span class="line">	<span class="keyword">if</span> methodValue.String() != <span class="string">"&lt;invalid Value&gt;"</span> &#123;</span><br><span class="line">	    args := <span class="built_in">make</span>([]reflect.Value, <span class="number">0</span>)</span><br><span class="line">	    methodValue.Call(args)</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(<span class="string">"what you want?"</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>千万注意使用反射机制来调用函数时候的名称问题，非大写字母开头的函数<code>MethodbyName</code>是找不到的。虽然使用反射可以解决判断逻辑的问题，但是要不要在项目中这么使用则是见仁见智了。另外补充一句，这个反射行为在python中使用使用<code>getattr()</code>即可实现，或许这也是使用python时候并没怎么想到设计模式的原因之一吧。</p><h3 id="抽象工厂模式应用场景"><a href="#抽象工厂模式应用场景" class="headerlink" title="抽象工厂模式应用场景"></a>抽象工厂模式应用场景</h3><ol><li>创建产品家族，相关产品集合在一起使用的时候。</li><li>提供一个产品类库，并只想显示其接口而不是实现的时候。</li><li>通过组合的方使使用工厂时。</li></ol><h2 id="对比"><a href="#对比" class="headerlink" title="对比"></a>对比</h2><ol><li>工厂方法模式通过继承的方式来解耦，抽象工厂模式则通过组合的方式实现解耦。</li><li>工厂方法模式用来创建一个抽象产品，具体工厂实现工厂方法来创建具体产品，抽象工厂模式用组合来创建一个产品家族的抽象类型。</li></ol></div></div><div id="post-footer" class="post-footer main-content-wrap"><div class="post-footer-tags"><span class="text-color-light text-small">标签</span><br><a class="tag tag--primary tag--small t-link" href="/source/all-tags/设计模式/">设计模式</a></div><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2019/10/12/设计模式-建造者模式/" data-tooltip="设计模式-建造者模式"><i class="fa fa-angle-left"></i> <span class="hide-xs hide-sm text-small icon-ml">上一篇</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2019/10/08/设计模式-总览/" data-tooltip="设计模式-总览"><span class="hide-xs hide-sm text-small icon-mr">下一篇</span> <i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions"><i class="fa fa-share-alt"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-facebook-official"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-twitter"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-google-plus"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://service.weibo.com/share/share.php?&amp;title=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-weibo"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/&amp;title=设计模式-工厂模式"><i class="fa fa-qq"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-star"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://widget.renren.com/dialog/share?resourceUrl=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-renren"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#"><i class="fa fa-list"></i></a></li></ul></div></div></article><footer id="footer" class="main-content-wrap"><span class="copyrights">Copyrights &copy; 2019 Roy. All Rights Reserved.</span></footer></div><div id="bottom-bar" class="post-bottom-bar" data-behavior="4"><div class="post-actions-wrap"><nav><ul class="post-actions post-action-nav"><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2019/10/12/设计模式-建造者模式/" data-tooltip="设计模式-建造者模式"><i class="fa fa-angle-left"></i> <span class="hide-xs hide-sm text-small icon-ml">上一篇</span></a></li><li class="post-action"><a class="post-action-btn btn btn--default tooltip--top" href="/2019/10/08/设计模式-总览/" data-tooltip="设计模式-总览"><span class="hide-xs hide-sm text-small icon-mr">下一篇</span> <i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions"><i class="fa fa-share-alt"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-facebook-official"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-twitter"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-google-plus"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://service.weibo.com/share/share.php?&amp;title=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-weibo"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/&amp;title=设计模式-工厂模式"><i class="fa fa-qq"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-star"></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target="new" href="http://widget.renren.com/dialog/share?resourceUrl=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-renren"></i></a></li><li class="post-action"><a class="post-action-btn btn btn--default" href="#"><i class="fa fa-list"></i></a></li></ul></div></div><div id="share-options-bar" class="share-options-bar" data-behavior="4"><i id="btn-close-shareoptions" class="fa fa-close"></i><ul class="share-options"><li class="share-option"><a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-facebook-official"></i><span>分享到 Facebook</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-twitter"></i><span>分享到 Twitter</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-google-plus"></i><span>分享到 Google+</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="http://service.weibo.com/share/share.php?&amp;title=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-weibo"></i><span>分享到 Weibo</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/&amp;title=设计模式-工厂模式"><i class="fa fa-qq"></i><span>分享到 QQ</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-star"></i><span>分享到 Qzone</span></a></li><li class="share-option"><a class="share-option-btn" target="new" href="http://widget.renren.com/dialog/share?resourceUrl=http://www.hi-roy.com/2019/10/09/设计模式-工厂模式/"><i class="fa fa-renren"></i><span>分享到 Renren</span></a></li></ul></div></div><div id="about"><div id="about-card"><div id="about-btn-close"><i class="fa fa-remove"></i></div><img id="about-card-picture" src="/assets/images/my.jpg" alt="作者的图片"><h4 id="about-card-name">Roy</h4><div id="about-card-bio"><p>君以国士待我，我必以国士报君。</p></div><div id="about-card-job"><i class="fa fa-briefcase"></i><br><p>野生程序猿</p></div><div id="about-card-location"><i class="fa fa-map-marker"></i><br>China</div></div></div><div id="algolia-search-modal" class="modal-container"><div class="modal"><div class="modal-header"><span class="close-button"><i class="fa fa-close"></i></span> <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled"><span class="searchby-algolia-text text-color-light text-small">by</span> <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg"> </a><i class="search-icon fa fa-search"></i><form id="algolia-search-form"><input type="text" id="algolia-search-input" name="search" class="form-control input--large search-input" placeholder="Search "></form></div><div class="modal-body"><div class="no-result text-color-light text-center">没有找到文章</div><div class="results"><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/02/12/Ubuntu下Gogant的简易破墙术/"><h3 class="media-heading">Ubuntu下Gogant的简易破墙术</h3></a><span class="media-meta"><span class="media-date text-small">2013年2月12日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/10/31/python常用第三方库-转载/"><h3 class="media-heading">Python常用第三方库(转载)</h3></a><span class="media-meta"><span class="media-date text-small">2013年10月31日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/fedora19安装ar8161网卡驱动/"><h3 class="media-heading">fedora19安装ar8161网卡驱动</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/fedora19源，rpmforge，fastestmirror/"><h3 class="media-heading">fedora19源，rpmforge，fastestmirror</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/python中如何自定义解析域名/"><h3 class="media-heading">python中如何自定义解析域名</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/django版本更换/"><h3 class="media-heading">django版本更换</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/django-groundwork个人1-5-3修改版/"><h3 class="media-heading">django-groundwork个人1.5.3修改版</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/fedora19美化/"><h3 class="media-heading">fedora19美化</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/装饰器/"><h3 class="media-heading">装饰器</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div><div class="media"><div class="media-body"><a class="link-unstyled" href="http://www.hi-roy.com/2013/11/01/SVN常用操作/"><h3 class="media-heading">SVN常用操作</h3></a><span class="media-meta"><span class="media-date text-small">2013年11月1日</span></span><div class="media-content hide-xs font-merryweather"></div></div><div style="clear:both"></div><hr></div></div></div><div class="modal-footer"><p class="results-count text-medium" data-message-zero="没有找到文章" data-message-one="找到 1 篇文章" data-message-other="找到 {n} 篇文章">找到 222 篇文章</p></div></div></div><div id="cover" style="background-image:url(/assets/images/cover.jpg)"></div><script src="/assets/js/script-ivwiy10zeb8fifc4swnhkwneuk64y53w2scmdmtp8thi9cqfxh31aowtroaz.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.14.1/moment-with-locales.min.js"></script><script src="//cdn.jsdelivr.net/algoliasearch/3/algoliasearch.min.js"></script><script>var algoliaClient=algoliasearch("51U8PIBLP6","16909d9ce1780cda71113841864e7aa8"),algoliaIndex=algoliaClient.initIndex("my-blog")</script></body></html>